riot.tag2("btn-plus",'<svg class="btn-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewbox="0 0 100 125" enable-background="new 0 0 100 100" xml:space="preserve"><path class="btn-svg-color" d="M87.754,45.284H54.716V12.246c0-2.605-2.111-4.716-4.716-4.716c-1.302,0-2.481,0.528-3.334,1.382 c-0.853,0.853-1.381,2.032-1.382,3.334v33.038l-33.038,0c-1.302,0-2.481,0.528-3.334,1.382C8.058,47.519,7.53,48.698,7.53,50 c0,2.605,2.111,4.716,4.716,4.716l33.038,0l0,33.038c0,2.605,2.111,4.716,4.716,4.716c2.604,0,4.716-2.112,4.716-4.716l0-33.038 h33.038c2.604,0,4.716-2.112,4.716-4.716C92.47,47.395,90.359,45.284,87.754,45.284z"></path></svg>{opts.content}',"","class=\"btn btn-{opts.size ? opts.size : 'm'} btn-{opts.color ? opts.color : 'primary-hover'}\"",function(t){}),riot.tag2("ui-checkbox",'<label onclick="{onClick}" onupdate="{opts.onupdate ? opts.onupdate : ⁗self⁗}" class="checkbox {small : typeof opts.small !== \'undefined\'}" data-color="{opts.theme}"> <input type="checkbox" checked="{value}"> <span class="checkbox-control"></span> <span class="checkbox-text fontSize-{opts.size ? opts.size : \'m\'} {opts.color ? \'c-\' + opts.color : null}">{opts.title}</span> </label>',"","",function(t){var e=this,o=!1;e.on("before-mount",function(){if(e.opts.update&&e.opts.cursor)if(e.opts.group){var t=e.opts.cursor.get(e.opts.update);e.value=t==e.opts.value}else e.value=e.opts.cursor.get(e.opts.update);else e.opts.update||(void 0===e.opts.value?e.opts.value=e.value=!1:e.value=e.opts.value)}),e.on("update",function(){o||(!e.opts.group&&!_.isBoolean(e.opts.value)&&e.opts.update&&e.opts.cursor?e.value=e.opts.cursor.get(e.opts.update):_.isBoolean(e.opts.value)&&e.opts.value!==e.value&&(e.value=e.opts.value))}),e.onClick=function(){o=!0,e.opts.group?e.value||(_.each(e.parent.tags,function(t,o){"ui-checkbox"==o&&_.each(t,function(t){t.opts.group==e.opts.group&&t.update({value:!1})})}),e.value=!e.value):e.value=!e.value,e.opts.commit===!0||"true"==e.opts.commit?e.parent.update():_.isFunction(e.opts.commit)?e.opts.commit.call(this,e.value,e.opts.i):e.opts.commit&&e.parent[e.opts.commit]&&e.parent[e.opts.commit](e.value,e.opts.i),e.opts.update&&e.opts.cursor&&(e.opts.group?e.opts.cursor.set(e.opts.update,e.opts.value):e.opts.cursor.set(e.opts.update,e.value)),setTimeout(function(){o=!1},5)}}),riot.tag2("ui-dropmenu",'<div if="{items && items.length}" class="dropmenu__wrapper"> <virtual each="{item in items}" no-reorder> <div if="{item && !item.divider}" onclick="{onSelect}" class="dropmenu__item"> {item.title ? item.title : item} </div> <div if="{item && item.divider}" class="dropmenu__item divider"></div> </virtual> </div>',"",'class="dropmenu" data-pos="{pos}" data-active="{active}"',function(t){var e=this,o=$$(e.root);e.active=!1,e.items=[],e.rootScroll=null,e.show=function(t){if(t&&t.elem){if(t.id||(t.id="0"),e._id&&e._id===t.id)return void e.hide();e.active&&e.hide(),t.id&&(e._id=t.id),e.pos=t.pos?t.pos:"center",e.items=t.menu,e.callback=t.callback,e.active=!0;var i=t.elem.offset(),s=0,a=0;"center"===e.pos?s=t.elem.outerWidth()/2:"left"===e.pos||"down-left"===e.pos?a=-(t.elem.outerHeight()/2):"right"!==e.pos&&"down-right"!==e.pos||(s=t.elem.outerWidth(),a=-(t.elem.outerHeight()/2)),e.rootScroll=t.rootScroll?t.rootScroll:app.$dom.root,setTimeout(function(){app.$dom.body.on("click.dropdown",function(t){e.hide()})},5),e.update(),o.css({top:e.rootScroll[0].scrollTop+i.top+t.elem.outerHeight()+"px",left:i.left+"px",marginLeft:s+"px",marginTop:a+"px"})}},e.hide=function(){app.$dom.body.off("click.dropdown"),e.active=!1,e._id&&(e._id=null),e.update()},e.onSelect=function(){var t=this.item._id||this.item;e.value=t,this.item&&_.isFunction(this.item.callback)&&this.item.callback(),e.callback&&e.callback(t||this.item)}}),riot.tag2("ui-input",'<input oninput="{onInput}" onupdate="{opts.onupdate ? opts.onupdate : ⁗none⁗}" class="input input-{opts.size ? opts.size : \'m\'}" riot-value="{value}" disabled="{typeof opts.disabled !== \'undefined\'}" placeholder="{opts.placeholder}">',"","",function(t){var e=this;e.on("before-mount",function(){e.opts.update&&e.opts.cursor?e.value=e.opts.cursor.get(e.opts.update):e.value=e.opts.value}),e.on("update",function(){!e.opts.value&&e.opts.update&&e.opts.cursor?e.value=e.opts.cursor.get(e.opts.update):e.opts.value&&e.opts.value!==e.value&&(e.value=e.opts.value)}),e.onInput=function(t){var o=t.target.value;e.opts.commit===!0||"true"==e.opts.commit?e.parent.update():_.isFunction(e.opts.commit)?e.opts.commit.call(this,o,e.opts.i):e.opts.commit&&e.parent[e.opts.commit]&&e.parent[e.opts.commit](o,e.opts.i),e.opts.update&&e.opts.cursor&&e.opts.cursor.set(e.opts.update,_.clean(o))}}),riot.tag2("ui-select",'<select onchange="{onChange}" onupdate="{opts.onupdate ? opts.onupdate : ⁗none⁗}" disabled="{disable}"> <option each="{item in opts.items}" selected="{item._id == value || item == value}" riot-value="{item._id ? item._id : item}">{item.title ? item.title : item}</option> </select>',"","class=\"select select-{opts.size ? opts.size : 'm'} {short : typeof opts.short !== 'undefined'}\"",function(t){var e=this;e.on("before-mount",function(){e.opts.update&&e.opts.cursor?e.value=e.opts.cursor.get(e.opts.update):e.value=e.opts.value,e.disable=e.opts.disable}),e.on("update",function(){!e.opts.value&&e.opts.update&&e.opts.cursor?e.value=e.opts.cursor.get(e.opts.update):e.opts.value&&e.opts.value!==e.value&&(e.value=e.opts.value),_.isBoolean(e.opts.disable)&&e.opts.disable!==e.disable&&(e.disable=e.opts.disable)}),e.onChange=function(t){var o=t.target.value;e.opts.commit===!0||"true"==e.opts.commit?e.parent.update():_.isFunction(e.opts.commit)?e.opts.commit.call(this,o,e.opts.i):e.opts.commit&&e.parent[e.opts.commit]&&e.parent[e.opts.commit](o,e.opts.i),e.opts.update&&e.opts.cursor&&e.opts.cursor.set(e.opts.update,o)}}),riot.tag2("ui-slider",'<span if="{opts.title}" class="input-title">{opts.title}</span> <input class="display-none" name="slider_input" type="range" riot-value="{opts.value}" min="{opts.min}" max="{opts.max}" step="{opts.step}" readonly="{opts.readonly}"> <input class="input input-{opts.size ? opts.size : \'m\'}" onkeyup="{onKeySlider}" name="slider_data" autocomplete="off" riot-value="{opts.value}" readonly="{opts.readonly}" type="{\'number\'}"> <div if="{opts.ed && !app.device.isPhone}" class="pos-tr c-blue fontSize-20 fontWeight-5 flex-centered w40 h100p">{opts.ed}</div>',"",'class="display-block pos-rel"',function(t){var e=this;e.input=e.slider_data,e.on("before-mount",function(){e.opts.update&&e.opts.cursor&&(e.opts.value=e.opts.cursor.get(e.opts.update))}),e.on("mount",function(){!e.opts.phone&&app.device.isPhone||(e.slider=$$(e.slider_input),e.value=e.opts.value,setTimeout(function(){e.slider.rangeslider({polyfill:!1,orientation:"horizontal",rangeClass:"rangeslider",horizontalClass:"rangeslider--horizontal",fillClass:"rangeslider-track",handleClass:"rangeslider-handle",onSlide:function(t,o){e.input.value=o,e.value=o,e.fnCommit(o)}})},5),e.slider.val(e.value),e.commit=e.opts.commit?e.opts.commit:null)}),e.change=function(t){e.slider?e.slider.val(t).change():e.input.value=t,e.value=t,e.fnCommit(t)},e.onKeySlider=function(t){var o=t.target.value;e.value=o,e.fnCommit(o)},e.fnCommit=function(t){e.commit===!0||"true"==e.commit?e.parent.update():_.isFunction(e.commit)?e.commit.call(this,t,e.opts.i):e.commit&&e.parent[e.commit]&&e.parent[e.commit](t,e.opts.i),e.opts.update&&e.opts.cursor&&e.opts.cursor.set(e.opts.update,t)},this.on("unmount",function(){e.slider&&e.slider.rangeslider("destroy")})}),riot.tag2("ui-switcher",'<div class="switch"> <input class="switch-input" type="checkbox" checked=""> <span class="switch-left">ON</span> <label class="switch-label">&nbsp;</label> <span class="switch-right">OFF</span> </div>',"",'onclick="{onClick}" onupdate="{opts.onupdate ? opts.onupdate : ⁗self⁗}" class="switcher" active="{value}"',function(t){var e=this;e.on("before-mount",function(){e.value=e.opts.value}),e.onClick=function(){e.value=!e.value,e.opts.commit===!0||"true"==e.opts.commit?e.parent.update():_.isFunction(e.opts.commit)?e.opts.commit.call(this,e.value,e.opts.i):e.opts.commit&&e.parent[e.opts.commit]&&e.parent[e.opts.commit](e.value,e.opts.i)}}),riot.tag2("ui-textarea",'<textarea oninput="{onInput}" onupdate="{opts.onupdate ? opts.onupdate : ⁗none⁗}" class="textarea textarea-{opts.size ? opts.size : \'m\'}" disabled="{typeof opts.disabled !== \'undefined\'}" placeholder="{opts.placeholder}">{value}</textarea>',"","",function(t){var e=this;e.on("before-mount",function(){e.opts.update&&e.opts.cursor?e.value=e.opts.cursor.get(e.opts.update):e.value=e.opts.value}),e.on("update",function(){!e.opts.value&&e.opts.update&&e.opts.cursor?e.value=e.opts.cursor.get(e.opts.update):e.opts.value&&e.opts.value!==e.value&&(e.value=e.opts.value)}),e.onInput=function(t){var o=t.target.value;e.opts.commit===!0||"true"==e.opts.commit?e.parent.update():_.isFunction(e.opts.commit)?e.opts.commit.call(this,o,e.opts.i):e.opts.commit&&e.parent[e.opts.commit]&&e.parent[e.opts.commit](o,e.opts.i),e.opts.update&&e.opts.cursor&&e.opts.cursor.set(e.opts.update,o)}}),riot.tag2("icon-email",'<svg class="icon-email {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewbox="0 0 100 125" style="enable-background:new 0 0 100 100;" xml:space="preserve"><path d="M94,31.8c-0.9-1.2-2.3-1.8-3.9-1.8H37.9H5v3.1h27.2c-0.5,0.7-0.9,1.5-1.2,2.4l-1.1,3.9H12v3.1h17.1L26.8,51h-8v3h7.1 l-2.7,9.7c-0.4,1.6-0.2,3.3,0.7,4.4c0.9,1.2,2.3,1.8,3.9,1.8h52.8c3.1,0,6.1-2.4,6.9-5.5l7.2-28.3C95.2,34.6,94.9,33,94,31.8z M84.6,63.7c-0.4,1.7-2.2,3.2-3.9,3.2H27.8c-0.6,0-1.1-0.2-1.4-0.6s-0.4-1.1-0.2-1.8l5.9-21.4l20.4,9.6c1.8,0.8,3.9,1.3,6,1.3 s4.4-0.4,6.6-1.3l24.8-9.3L84.6,63.7z M91.8,35.5l-1.1,4.3L63.9,49.9c-3.6,1.4-7.4,1.4-10.2,0.1l-20.8-9.9l1.1-3.8 c0.5-1.7,2.3-3.2,4-3.2h52.2c0.6,0,1.1,0.2,1.4,0.6C91.9,34.1,92,34.8,91.8,35.5z"></path></svg>',"",'class="icon"',function(t){}),riot.tag2("icon-gallery",'<svg class="icon-gallery {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 50 50"> <path d="M 15 2 C 7.832 2 2 7.832 2 15 L 2 35 C 2 42.168 7.832 48 15 48 L 35 48 C 42.168 48 48 42.168 48 35 L 48 15 C 48 7.832 42.168 2 35 2 L 15 2 z M 38 10 C 39.105 10 40 10.895 40 12 C 40 13.105 39.105 14 38 14 C 36.895 14 36 13.105 36 12 C 36 10.895 36.895 10 38 10 z M 25 13 C 31.617 13 37 18.383 37 25 C 37 31.617 31.617 37 25 37 C 18.383 37 13 31.617 13 25 C 13 18.383 18.383 13 25 13 z M 25 15 C 19.486 15 15 19.486 15 25 C 15 30.514 19.486 35 25 35 C 30.514 35 35 30.514 35 25 C 35 19.486 30.514 15 25 15 z"></path> </svg>',"",'class="icon"',function(t){}),riot.tag2("icon-help",'<svg class="icon-help {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 50 50"> <path d="M 25 0 C 11.204726 0 0 11.204726 0 25 C 0 38.795274 11.204726 50 25 50 C 38.795274 50 50 38.795274 50 25 C 50 11.204726 38.795274 0 25 0 z M 25 2 C 37.714394 2 48 12.285606 48 25 C 48 37.714394 37.714394 48 25 48 C 12.285606 48 2 37.714394 2 25 C 2 12.285606 12.285606 2 25 2 z M 25.28125 12.5 C 21.55125 12.5 19.07025 14.77575 18.53125 18.21875 C 18.49625 18.43475 18.62775 18.55775 18.84375 18.59375 L 21.09375 19 C 21.30975 19.036 21.464 18.93375 21.5 18.71875 C 21.93 16.53075 23.21075 15.3125 25.21875 15.3125 C 27.26375 15.3125 28.6875 16.61225 28.6875 18.65625 C 28.6875 19.87625 28.254 20.68525 27 22.40625 L 24.59375 25.71875 C 23.84075 26.75975 23.53125 27.5015 23.53125 28.9375 L 23.53125 30.40625 C 23.53125 30.62125 23.69125 30.754 23.90625 30.75 L 26.25 30.75 C 26.465 30.75 26.625 30.62125 26.625 30.40625 L 26.625 29.25 C 26.625 28.031 26.8455 27.5305 27.5625 26.5625 L 29.9375 23.28125 C 31.1575 21.59525 31.78125 20.31575 31.78125 18.59375 C 31.78125 15.04275 29.15325 12.5 25.28125 12.5 z M 23.71875 33.5 C 23.50275 33.5 23.34375 33.62875 23.34375 33.84375 L 23.34375 36.9375 C 23.34375 37.1525 23.50175 37.28125 23.71875 37.28125 L 26.4375 37.28125 C 26.6515 37.28125 26.8125 37.1535 26.8125 36.9375 L 26.8125 33.84375 C 26.8125 33.62975 26.6525 33.5 26.4375 33.5 L 23.71875 33.5 z"></path> </svg>',"",'class="icon"',function(t){}),riot.tag2("icon-order",'<svg class="icon-order {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" viewbox="0 0 8.4666665 10.583333625" version="1.1" x="0px" y="0px"><g transform="translate(0,-288.53332)"><path d="m 1.1916157,289.85624 c -0.1777101,-8.6e-4 -0.1777101,0.26642 0,0.26556 l 0.6693806,0 c 0.1705478,0 0.3210095,0.10941 0.3741719,0.27331 l 0.9042055,2.78893 -0.4319748,0.30225 c -0.11712,0.082 -0.1971447,0.21827 -0.1971499,0.37871 l 0,0.0253 c 0,0.25397 0.2087267,0.46292 0.4624248,0.46292 l 4.4240018,0 c 0.1919325,0.0172 0.1919325,-0.28074 0,-0.26349 l -4.4240018,0 c -0.1110008,0 -0.1992142,-0.0885 -0.1992142,-0.19943 l 0,-0.0253 c 1.5e-6,-0.0551 0.050276,-0.13707 0.086189,-0.16223 l 0.4877136,-0.34151 3.1714291,0 c 0.1709888,0 0.322182,-0.11045 0.3746881,-0.27331 L 7.511766,291.1701 c 0.081336,-0.25239 -0.1113557,-0.51924 -0.3762363,-0.51924 l -3.8330681,0 c -0.1919327,-0.0172 -0.1919327,0.28075 0,0.2635 l 3.8330681,0 c 0.092157,0 0.1531816,0.0842 0.1243799,0.1736 l -0.1145738,0.35546 -3.3262591,0 c -0.1768281,0.009 -0.1628958,0.27484 0.013934,0.26556 l 3.2266519,0 -0.170829,0.52958 -2.5407559,0 c -0.1623886,0.0204 -0.1501964,0.25977 0.013419,0.26349 l 2.4426987,0 -0.1625712,0.50375 c -0.017799,0.0552 -0.065963,0.092 -0.1228317,0.092 l -3.1306572,0 -0.9011092,-2.78479 c -0.08801,-0.27139 -0.3415581,-0.45677 -0.6260296,-0.45677 z"></path><path d="m 3.7002518,294.61869 c -0.290307,0 -0.5286119,0.23858 -0.5286156,0.5292 -3.6e-6,0.29062 0.2383036,0.52918 0.5286156,0.52918 0.2903121,0 0.5266686,-0.23856 0.526665,-0.52918 -3.7e-6,-0.29062 -0.236358,-0.5292 -0.526665,-0.5292 z m 0,0.26362 c 0.1475008,0 0.2633306,0.11792 0.2633325,0.26558 1.8e-6,0.14766 -0.1158289,0.26361 -0.2633325,0.26361 -0.1475035,0 -0.2652849,-0.11595 -0.2652831,-0.26361 1.9e-6,-0.14766 0.1177823,-0.26558 0.2652831,-0.26558 z"></path><path d="m 6.3413789,294.61869 c -0.290307,0 -0.5286119,0.23858 -0.5286156,0.5292 -3.6e-6,0.29062 0.2383035,0.52918 0.5286156,0.52918 0.290312,0 0.5286192,-0.23856 0.5286155,-0.52918 -3.6e-6,-0.29062 -0.2383085,-0.5292 -0.5286155,-0.5292 z m 0,0.26362 c 0.1475008,0 0.2652812,0.11792 0.2652831,0.26558 1.8e-6,0.14766 -0.1177796,0.26361 -0.2652831,0.26361 -0.1475036,0 -0.2633343,-0.11595 -0.2633325,-0.26361 1.9e-6,-0.14766 0.1158317,-0.26558 0.2633325,-0.26558 z"></path></g></svg>',"",'class="icon"',function(t){}),riot.tag2("icon-phone",'<svg class="icon-phone {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewbox="0 0 100 125" enable-background="new 0 0 100 100" xml:space="preserve"><path d="M31.126,42.766c-1.342-5.693,11.38-11.721,9.041-19.423c-1.87-6.145-13.118-19.352-21.441-12.065 c-8.327,7.286-15.348,28.88,12.23,57.242c27.579,28.355,48.39,18.991,53.075,15.09s8.629-10.645,5.983-14.574 c-2.803-4.167-10.336-11.204-15.359-10.699c-5.001,0.501-6.768,3.856-10.395,7.576c-3.636,3.724-7.029,5.729-13.009,0 C45.263,60.189,32.143,47.086,31.126,42.766z"></path></svg>',"",'class="icon"',function(t){}),riot.tag2("icon-votes",'<svg class="icon-votes {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewbox="0 0 100 125" enable-background="new 0 0 100 100" xml:space="preserve"><g><polygon points="32.111,6.24 37.405,16.969 49.245,18.689 40.678,27.041 42.701,38.833 32.111,33.264 21.521,38.833 23.544,27.041 14.976,18.689 26.816,16.969 "></polygon><polygon points="33.351,41.639 37.982,49.781 47.316,50.584 41.002,57.504 43.123,66.63 34.59,62.764 26.567,67.601 27.608,58.289 20.528,52.154 29.704,50.267 "></polygon><polygon points="51.607,67.447 55.256,73.158 62.028,73.391 57.724,78.625 59.596,85.14 53.287,82.662 47.67,86.456 48.076,79.691 42.732,75.521 49.293,73.817 "></polygon><polygon points="71.423,81.543 73.914,84.924 78.112,84.787 75.667,88.201 77.094,92.15 73.091,90.881 69.775,93.46 69.746,89.26 66.271,86.903 70.256,85.578 "></polygon><polygon points="85.372,88.867 86.634,90.004 88.285,89.61 87.594,91.159 88.479,92.607 86.791,92.429 85.69,93.72 85.336,92.058 83.77,91.408 85.238,90.561 "></polygon></g></svg>',"",'class="icon"',function(t){}),riot.tag2("icon-wallet",'<svg class="icon-wallet {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewbox="0 0 100 125" enable-background="new 0 0 100 100" xml:space="preserve"><g><path d="M68.581,35.952H31.419c-1.328,0-2.563,0.395-3.604,1.065c1.319-2.422,3.721-4.489,6.407-5.21l22.698-6.092 c2.562-0.688,4.927-0.524,6.173,0.432c0.526,0.403,0.781,0.901,0.781,1.523v5.125h2v-5.125c0-1.25-0.541-2.325-1.564-3.11 c-1.754-1.345-4.711-1.636-7.909-0.777l-22.698,6.092c-4.938,1.325-8.954,6.252-8.954,10.982v1.763v6.049v21.362 c0,3.678,2.992,6.669,6.669,6.669h37.161c3.678,0,6.669-2.991,6.669-6.669V42.622C75.25,38.944,72.258,35.952,68.581,35.952z M73.25,70.033c0,2.574-2.095,4.669-4.669,4.669H31.419c-2.575,0-4.669-2.095-4.669-4.669V48.671v-6.049 c0-2.575,2.095-4.669,4.669-4.669h37.161c2.575,0,4.669,2.095,4.669,4.669V70.033z"></path><circle cx="66.813" cy="56.327" r="3.188"></circle></g></svg>',"",'class="icon"',function(t){}),riot.tag2("icon-dk",'<svg class="icon-dk {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewbox="0 0 100 100"><path class="input-svg-color" d="M56.3 52.2c-2 .9-4.1 1.5-6.3 1.5-2.3 0-4.1-.6-6.2-1.5-.4-.2-.8-.3-1.3-.3-1.5 0-2.7 1.2-2.7 2.6 0 2.6 4.5 3.5 6.6 4l-5.3 4.9c-.5.5-.8 1.1-.8 1.8 0 1.4 1.2 2.6 2.7 2.6.7 0 1.4-.2 1.9-.7l5-4.7 5 4.7c.5.5 1.2.7 1.9.7 1.5 0 2.7-1.2 2.7-2.6 0-.7-.3-1.3-.8-1.8l-5.3-4.9c2.2-.4 6.6-1.5 6.6-4 0-1.3-1.2-2.6-2.7-2.6-.2-.1-.6 0-1 .3M50.1 34.3c-5.3 0-9.2 4-9.2 8.7 0 4.6 4 8.7 9.2 8.7 5.3 0 9.2-4 9.2-8.7 0-4.6-4-8.7-9.2-8.7zm0 12.3c-2.2 0-3.8-1.7-3.8-3.6 0-1.9 1.7-3.6 3.8-3.6 2.2 0 3.8 1.7 3.8 3.6 0 1.9-1.7 3.6-3.8 3.6z"></path></svg>',"",'class="icon"',function(t){}),riot.tag2("icon-fb",'<svg class="icon-fb {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewbox="0 0 100 100"><path class="input-svg-color" d="M60.5 32.5c-1.7-.6-4.8-.7-6.5-.7-5.1 0-7.2 4.1-7.2 8.9v3.2h-3v6.4h3V68H53V50.3h6v-6.4h-6v-3.8c0-1.6 2.6-2.4 3.7-2.4 1 0 2 .2 2.9.5l.9-5.7"></path></svg>',"",'class="icon"',function(t){}),riot.tag2("icon-gl",'<svg class="icon-gl {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" enable-background="new 0 0 128 128" version="1.1" viewbox="0 0 128 128" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><rect clip-rule="evenodd" fill="none" fill-rule="evenodd"></rect><path clip-rule="evenodd" d="M40.654,55.935v16.13 c0,0,15.619-0.021,21.979-0.021C59.189,82.5,53.834,88.194,40.654,88.194c-13.338,0-23.748-10.832-23.748-24.194 s10.41-24.194,23.748-24.194c7.052,0,11.607,2.483,15.784,5.944c3.344-3.35,3.065-3.828,11.573-11.877 c-7.222-6.586-16.822-10.6-27.357-10.6C18.201,23.273,0,41.507,0,64c0,22.493,18.201,40.727,40.654,40.727 c33.561,0,41.763-29.275,39.044-48.792H40.654z M113.912,56.742V42.628h-10.063v14.113H89.358v10.081h14.491v14.517h10.063V66.823 H128V56.742H113.912z" fill="#fff" fill-rule="evenodd"></path></svg>',"",'class="icon"',function(t){}),riot.tag2("icon-tw",'<svg class="icon-tw {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewbox="0 0 100 100"><path class="input-svg-color" d="M63.8 41.8c1.5-.8 2.6-2.1 3.1-3.6-1.4.7-2.9 1.3-4.5 1.6-1.3-1.3-3.2-2-5.1-2-3.9 0-7 2.9-7 6.5 0 .5 0 1 .2 1.5-5.6-.4-10.9-2.8-14.5-6.9-.6 1-.9 2.1-.9 3.3 0 2.2 1.2 4.2 3.1 5.4-1.2 0-2.2-.3-3.2-.8v.1c-.1 3.1 2.3 5.7 5.6 6.3-.6.2-1.2.2-1.9.2-.4 0-.9 0-1.3-.1.9 2.6 3.6 4.5 6.5 4.5-2.5 1.8-5.5 2.8-8.7 2.8-.5 0-1.1 0-1.6-.1 3.2 1.9 6.9 2.9 10.8 2.9 8.1 0 14.9-4 18.2-10.9 1.1-2.4 1.8-4.9 1.8-7.5v-.9c1.4-.9 2.6-2 3.5-3.3-1.4.5-2.7.9-4.1 1z"></path></svg>',"",'class="icon"',function(t){}),riot.tag2("icon-vk",'<svg class="icon-vk {opts.size ? \'icon-\' + opts.size : \'icon-m\'}" fill-color="{opts.color ?   opts.color : \'blue\'}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewbox="0 0 100 100"><path class="input-svg-color" d="M56.7 49.5v-.1c2.3-1 3.5-3.1 3.5-5.6 0-5.6-5.2-6-9.5-6h-9.9v26h10.8c5.1 0 10.3-2 10.3-8 0-3.4-2-5.6-5.2-6.3zm-8.9-7h1.9c1.9 0 3.9.2 3.9 2.6 0 2.7-2 2.9-4.1 2.9h-1.8v-5.5h.1zM50 59h-2.2v-6.5h3c2.3 0 4.5.3 4.5 3.2 0 3.1-2.9 3.3-5.3 3.3z"></path></svg>',"",'class="icon"',function(t){}),riot.tag2("section-notify",'<div onclick="{hide}" name="notify" class="notify {opts.size ? \'notify-\' + opts.size : \'notify-m\'}" data-color="{opts.color ? opts.color : ⁗primary⁗}" riot-style="max-width:{opts.maxWidth ? opts.maxWidth : \'380px\'} {opts.width ? \'width:\' + opts.width : null}">{opts.text}</div>',"",'class="notify-wrapper" data-active="{active}" data-pos="{opts.pos ? opts.pos : ⁗top-left⁗}"',function(t){var e=this;e.active=!1,e.timeout=2,e.interval=null,e.opts={pos:"top-left"},e.on("mount",function(){setTimeout(function(){e.root.style.display="block"},20)}),e.show=function(t){return clearTimeout(e.interval),"undefined"==typeof t.timeout&&(t.color||(t.timeout=1)),e.active&&e.autoHide(t),t.pos!=e.opts.pos?(e.update({opts:t}),setTimeout(function(){e.update({active:!0})},200)):e.update({opts:t,active:!0}),new Promise(function(o,i){_.onEndTransition(e.notify,function(){return e.autoHide(t),o()})})},e.autoHide=function(t){t.timeout!==!1&&(e.interval=setTimeout(function(){e.hide()},t.timeout?1e3*t.timeout:1e3*e.timeout))},e.hide=function(){e.update({active:!1})}}),riot.tag2("section-tutorial",'<div class="tutorial__shape" name="shape" riot-style="{step.style}"></div> <div name="msgBox" class="tutorial__message__wrapper" riot-style="{message.style}"> <div name="msgElem" class="tutorial__message" data-position="{message.position}" data-active="false"> <p class="pos-tr p-m c-grayLight fontSize-m">Шаг {num} из {steps.get().length}</p> <div class="tutorial__message__title">{message.title}</div> <p class="tutorial__message__text">{message.text}</p> <div class="fontSize-0"> <button onclick="{nextStep}" onupdate="none" class="btn btn-m {endShow ? \'btn-success\' : \'btn-default-hover-success\'} mr-xs"> <svg if="{endShow}" class="btn-svg btn-svg-repeat" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 50 50"> <path class="fill-white" d="M 39.78125 5.96875 A 2.0002 2.0002 0 0 0 38 8 L 38 12.5625 C 34.722701 9.1373523 30.10346 7 25 7 C 15.082241 7 7 15.082241 7 25 A 2.0002 2.0002 0 1 0 11 25 C 11 17.243759 17.243759 11 25 11 C 28.816123 11 32.256876 12.535728 34.78125 15 L 31 15 A 2.0002 2.0002 0 1 0 31 19 L 40 19 L 42 19 L 42 17 L 42 8 A 2.0002 2.0002 0 0 0 39.96875 5.96875 A 2.0002 2.0002 0 0 0 39.78125 5.96875 z M 40.78125 22.96875 A 2.0002 2.0002 0 0 0 39 25 C 39 32.757363 32.756392 39 25 39 C 21.184399 39 17.742551 37.46305 15.21875 35 L 19 35 A 2.0002 2.0002 0 1 0 19 31 L 10 31 L 8 31 L 8 33 L 8 42 A 2.0002 2.0002 0 1 0 12 42 L 12 37.4375 C 15.276425 40.860887 19.895994 43 25 43 C 34.917608 43 43 34.918637 43 25 A 2.0002 2.0002 0 0 0 40.96875 22.96875 A 2.0002 2.0002 0 0 0 40.78125 22.96875 z"></path> </svg> {endShow ? \'Повторить\' : \'Далее\'} </button> <button onclick="{hide}" class="btn btn-m btn-primary-hover">{endShow ? \'Перейти к выбору\' : \'Выйти из обзора\'}</button> </div> </div> </div>',"",'class="tutorial" data-open="{active}" active-zone="{step.activeZone}"',function(t){var e=this;e.active=!1,e.ready=!1,e.steps=new Baobab([]).root,e.borderColor="#0084ff",e.on("before-mount",function(){e.reset()}),e.on("messageShow",function(){e.message.active||(e.message.active=!0,_.onEndTransition(e.shape,function(){e.cordsMsg(),e.update(),e.msgElem.setAttribute("data-active",!0),_.onEndTransition(e.msgElem,function(){e.ready=!0})}))}),e.on("messageHide",function(){e.message.active=!1,e.msgElem.setAttribute("data-active",!1),_.onEndTransition(e.msgElem,function(){e.message.position=e.step.position,e.message.title=e.step.title,e.message.text=e.step.text,e.update()})}),e.reset=function(){e.start=!1,e.scope=null,e.message={active:!1,style:"clear:both",position:null,title:null,text:null},e.cursor=null,e.target=null,e.num=0,e.step={activeZone:!1,style:"clear:both"},e.endShow=!1},e.show=function(t,o){if(app.plugins.tutorial[o]){e.start=!0,e.steps.set(app.plugins.tutorial[o]),e.scope=$$(t),e.active=!0,e.trigger("messageHide"),e.nextStep();var i=_.debounce(e.render,100);app.$dom.window.on("resize.tutorial",function(){i()}),e.navigate.init()}else console.log("Not found tutorial: "+o)},e.nextStep=function(){e.changeStep("right")},e.prevStep=function(){e.num>1&&e.changeStep("left")},e.changeStep=function(t){e.ready=!1,e.cursor?e.trigger("messageHide"):e.trigger("messageShow"),e.endShow&&e.step.actions&&e.step.actions.toggle&&e.step.actions.toggle(e.target),e.cursor&&e.cursor[t]()?(e.actions(e.step,e.target,!0),e.cursor=e.cursor[t]()):e.cursor=e.steps.down(),e.step=e.cursor.get().call(),e.target=e.scope.find(e.step.target),e.start&&(e.message.position=e.step.position,e.message.title=e.step.title,e.message.text=e.step.text),e.render(),e.afterlag(function(){e.trigger("messageShow"),e.cursor[t]()||"right"!=t?e.endShow=!1:e.endShow=!0,e.update(),e.start||e.steps.get().length==e.num&&"right"==t?e.num=1:("right"==t&&e.num++,"left"==t&&e.num--),e.actions(e.step,e.target),e.start=!1})},e.render=function(){e.offset=e.target.offset(),e.step.offset&&(e.offset.top+=e.step.offset.top?e.step.offset.top:0,e.offset.left+=e.step.offset.left?e.step.offset.left:0);var t=e.target.data("width")||e.step.width,o=e.target.data("height")||e.step.height,i=e.target.data("zoom")||e.step.zoom,s=e.target.data("padding")||e.step.padding,a=t?parseInt(t):s?e.target.outerWidth()+2*parseInt(s):e.target.outerWidth(),n=o?parseInt(o):s?e.target.outerHeight()+2*parseInt(s):e.target.outerHeight(),c=i?parseFloat(i):1,l=300,r=l/2,d=(s?e.offset.left-parseInt(s):e.offset.left)+a/2,p=(s?e.offset.top-parseInt(s):e.offset.top)+n/2,u=d-r,v=p-r,m=a/l*c,_=n/a*l*c,g=Math.ceil(5/m),h=5*g,f=1e4+20/m,b=1.008*f,w=null;if("square"==e.step.figure)v=p-_/2,w="-webkit-transform: translateX("+u+"px) translateY("+v+"px) translateZ(0) scale("+m+"); transform: translateX("+u+"px) translateY("+v+"px) translateZ(0) scale("+m+"); width: "+l+"px; height: "+_+"px; box-shadow: inset 0 0 0 "+g+"px "+e.borderColor+", inset 0 0 "+h+"px rgba(0,0,0,0.4); border-radius: "+f+"px";else if("circle"==e.step.figure){var x=Math.sqrt(2)*Math.max(a,n)/2,$=2*x,k=$/l*c,g=Math.ceil(5/k),h=5*g;w="-webkit-transform: translateX("+u+"px) translateY("+v+"px) translateZ(0) scale("+k+"); transform: translateX("+u+"px) translateY("+v+"px) translateZ(0) scale("+k+"); width: "+l+"px; height: "+l+"px; box-shadow: inset 0 0 0 "+g+"px "+e.borderColor+", inset 0 0 "+h+"px rgba(0,0,0,0.4); border-radius: "+b+"px"}e.step.style=w,e.targetWidth=a,e.targetHeight=n},e.cordsMsg=function(){var t=e.offset.top;t+e.msgBox.scrollHeight>app.sizes.height-40&&(t=e.offset.top+(app.sizes.height-40)-(t+e.msgBox.scrollHeight)),t<40&&(t=40),"right"==e.step.position?e.message.style="top:"+t+"px; left:"+(e.offset.left+e.targetWidth)+"px":"left"==e.step.position||"up"==e.step.position?e.message.style="top:"+t+"px; left:"+e.offset.left+"px":"down"==e.step.position&&(e.message.style="top:"+(e.offset.top+e.targetHeight)+"px; left:"+e.offset.left+"px")},e.actions=function(t,o,i){t.actions&&t.actions.toggle&&e.afterlag(function(){t.actions.toggle(o)},{delay:i?0:650,iterations:i?0:5})},e.navigate={init:function(){app.$dom.document.on("keydown.tutorial",function(t){e.ready&&(t.which!=KEY.RIGHT||e.endShow?t.which==KEY.LEFT&&e.prevStep():e.nextStep())})},destroy:function(){app.$dom.document.off("keydown.tutorial")}},e.hide=function(){e.active=!1,_.onEndTransition(e.root,function(){e.reset(),e.update()}),e.afterlag(function(){e.actions(e.step,e.target,!0)}),e.navigate.destroy(),app.$dom.window.off("resize.tutorial")},e.afterlag=function(t,e){var o={delay:0,iterations:1};e&&_.extend(o,e);var i=new Afterlag(o);i.run(t)}}),riot.tag2("root-main",'<div class="screens"></div> <section-tutorial></section-tutorial> <section-notify></section-notify>',"","",function(t){$$=window.jQuery||window.Zepto,$root=this,$rootScope=$$(this.root),this.ready=!1,app.ver="1.08";var e={group:"norm",tooltipScreen:!0,showProducts:!1,tutorial:!1},o={light:"1",color:"white",hum:"IP33",length:"5",controlled:!0};_.isEmpty($Router.params.get())||(_.extend(o,$Router.params.get()),o.controlled="false"!==o.controlled);var i=Store.get("appVer");i&&i==app.ver?Store.get("state")&&(_.extend(e,Store.get("state")),e.showProducts=!1):(Store.clear(),Store.set("appVer",app.ver)),$State=new Baobab(e,{autoCommit:!0}),$Options=new Baobab(o,{autoCommit:!0}),$State.on("write",function(t){Store.set("State",$State.get())}),app.config.changeStyles&&app.plugins.styles.init({elem:"#styles",default:"normal",screens:[{title:"normal",maxWidth:1400,path:"/public/css/style.css?"+_.newId()},{title:"large",minWidth:1400,path:"/public/css/style.largeScreen.css?"+_.newId()}]}),this.on("mount",function(){$Tutorial=$root.tags["section-tutorial"],$Notify=$root.tags["section-notify"],app.router.init(),$root.ready=!0})}),riot.tag2("section-control-mobile","<control-wrapper></control-wrapper>","",'class="section__control section-hidden" data-pos="left" data-short="true" data-open="false" data-shadow="true"',function(t){var e=this;e.show=function(){e.root.setAttribute("data-open",!0),$Screen.trigger("overlay",!0)},e.hide=function(){e.root.setAttribute("data-open",!1),$Screen.trigger("overlay",!1)}}),riot.tag2("section-menu-mobile",'<div onclick="{hide}" onupdate="none" class="button__close"></div> <div class="section__menu__title">Меню</div> <div onclick="{open.profile}" onupdate="none" class="section__menu__item"> <div class="section__menu__item__icon" data-icon="email"></div> <div class="section__menu__item__title">Расчет на почту</div> </div> <div onclick="{open.changePlan}" onupdate="none" class="section__menu__item"> <div class="section__menu__item__icon" data-icon="order"></div> <div class="section__menu__item__title">Сделать предзаказ</div> </div> <div onclick="{open.changePlan}" onupdate="none" class="section__menu__item"> <div class="section__menu__item__icon" data-icon="payment"></div> <div class="section__menu__item__title">Оплатить заказ</div> </div> <div onclick="{open.changePlan}" onupdate="none" class="section__menu__item"> <div class="section__menu__item__icon" data-icon="callback"></div> <div class="section__menu__item__title">Заказать звонок</div> </div> <div onclick="{open.changePlan}" onupdate="none" class="section__menu__item"> <div class="section__menu__item__icon" data-icon="question"></div> <div class="section__menu__item__title">Как сделать выбор</div> </div>',"",'class="section__menu bg-white zIndex-2" data-pos="right" data-notfully="true" data-open="{active}"',function(t){
var e=this;e.active=!1,e.show=function(){$Screen.trigger("hidden",!0),e.update({active:!0})},e.open={profile:function(){},changePlan:function(){$Sections.payment.section.show("premium")}},e.hide=function(){$Screen.trigger("hidden",!1),e.update({active:!1})}}),riot.tag2("section-navbar-mobile",'<div class="container"> <div class="row"> <div class="col-xs-17 cell-left"> <div onclick="{$Control.show}" onupdate="none" class="btn__control"></div> <div class="pack__name">НОРМА-2: одноцветная</div> </div> <div class="col-xs-7 cell-right"> <div class="btn__ok"></div> <div onclick="{$Menu.show}" onupdate="none" class="btn__menu"></div> </div> </div> </div>',"","",function(t){}),riot.tag2("screen-podbor-mobile",'<section-control-mobile></section-control-mobile> <section-menu-mobile></section-menu-mobile> <div class="section__content"> <section-navbar-mobile></section-navbar-mobile> <div class="content"> <div class="rows"> <div class="row"> <product-item-mobile name="ledribbon" item="{$Data.getProduct(\'ledribbon\')}"></product-item-mobile> <product-item-mobile name="power-supply" item="{$Data.getProduct(\'power-supply\')}"></product-item-mobile> <product-item-mobile name="ir-control" item="{$Data.getProduct(\'ir-control\')}"></product-item-mobile> </div> </div> </div> </div> <section-products-list-mobile></section-products-list-mobile> <section-product-mobile></section-product-mobile> <section-result-count></section-result-count> <div class="section__overlay"></div>',"",'class="section" data-active="false" data-overlay="false" data-visible="false" data-animate="true" is-animate="false" data-hidden="false"',function(t){var e=this,o=$$(this.root);e.active=!1,e.tooltipScreen=null,e.show=function(t){$Screens.self.trigger("steps-hidden"),e.root.setAttribute("data-visible",!0),e.update(),e.root.setAttribute("data-animate",!1),e.root.setAttribute("data-active",!0),$Router.params.set($State.get())},e.open={tutorial:function(){$Tutorial.show(o,"podbor"),$Config.set("tutorial",!1)}},e.on("overlay",function(t){e.root.setAttribute("data-overlay",t)}),e.on("hidden",function(t){e.root.setAttribute("data-hidden",t)}),e.on("before-mount",function(){$Navbar=e.tags["section-navbar-mobile"],$Menu=e.tags["section-menu-mobile"],$Control=e.tags["section-control-mobile"],$Control.wrapper=$Control.tags["control-wrapper"],$Control.light=$Control.wrapper.tags["control-light"],$Control.humidity=$Control.wrapper.tags["control-humidity"],$Control.color=$Control.wrapper.tags["control-color"],$Control.length=$Control.wrapper.tags["control-length"],$Product={ledribbon:e.ledribbon._tag,"power-supply":e["power-supply"]._tag,"ir-control":e["ir-control"]._tag},e.sections={resultCount:e.tags["section-result-count"],productsList:e.tags["section-products-list-mobile"]},e.setParams=function(){$Router.params.set($State.get())};var t=_.debounce(e.setParams,app.device.isMobile?500:100);$State.on("update",function(o){var i=e.getPropValue(o),s=i.prop;i.value;s&&"control"==s&&$Product["ir-control"].update(),e.active&&t()}),e.reRender()}),e.getFirstProduct=function(t){var e=$store[t].get()[0];return e.pack="norm",e},e.getProducts=function(t){var o=[];packs=["econom","norm","lux"];for(var i=0;i<packs.length;i++){var s=[];s=_.copyArray($store[t].get()).map(function(o,s){return o.pack=packs[i],"econom"!=packs[i]&&"lux"!=packs[i]||(o.article=e.store[t][packs[i]][s],o.photo="http://ledtop-shop.ru/files/catalog/"+o.article+".jpg"),o}),o=o.concat(s)}return o},e.store={ledribbon:{econom:["010523","020692"],lux:["013393","014676"]},power:{econom:["017831","012919","008889","010505"],lux:["017855","015992","011895","018308"]},control:{econom:["012987","021098","015422","020170","011439"],lux:["016678","016476","018609","016927","021025"]}},e.getTitleById=function(t){return"econom"==t?"Эконом":"norm"==t?"Норма":"lux"==t?"LUX":void 0},e.reRender=function(){var t=[{_id:"ledribbon",title:"Лента",product:e.getFirstProduct("ledribbon"),products:e.getProducts("ledribbon")},{_id:"power-supply",title:"Блок питания",product:e.getFirstProduct("power"),products:e.getProducts("power")},{_id:"ir-control",title:"Управление",product:e.getFirstProduct("control"),products:e.getProducts("control")}];$Data=_.extend(new Baobab(t),{getProduct:function(t){return $Data.select({_id:t})},getProductsList:function(t,e){return _.where($Data.select({_id:t}).get("products"),{pack:e})},getProductsCount:function(t){var e=$Data.select({_id:t}).get("products");return e?e.length:0}})},e.getPropValue=function(t){var e=t.data&&t.data.transaction&&t.data.transaction.length&&t.data.transaction[0].path?t.data.transaction[0].path[0]:null,o=t.data&&t.data.transaction&&t.data.transaction.length?t.data.transaction[0].value:null;return{prop:e,value:o}}}),riot.tag2("product-content-mobile",'<div class="title">{parent.opts.item.get().title}</div> <div class="product__label">{$Screen.getTitleById(parent.opts.item.get(\'product\').pack)}</div> <div class="rows product__item"> <div class="col-xs-12 product__item__text"> <p>{parent.opts.item.get(\'product\').desc}</p> </div> <div class="col-xs-12 product__item__photo"> <img class="product__item__photo__image" riot-src="{parent.opts.item.get(\'product\').photo}"> </div> </div> <div class="product__price">+ {_.numberFormat(parent.opts.item.get(\'product\').price, 0, ⁗⁗, ⁗,⁗)} <span class="rub">₽</span> {⁗/ м⁗ : parent.opts.item.get(⁗_id⁗) == ⁗ledribbon⁗}</div> <div onclick="{open.products}" class="product__select"> <div class="product__select__count">{$Data.getProductsCount(parent.opts.item.get(⁗_id⁗))}</div> </div> <div class="product__scribble">Не нужно управлять</div>',"",'class="display-block"',function(t){var e=this;e.open={products:function(){$Screen.sections.productsList.show(e.parent.opts.item.get("_id"))}}}),riot.tag2("product-item-mobile","<product-content-mobile></product-content-mobile> <connect-control></connect-control>","",'class="col-xs-24 product" data-pack="{opts.item.get(\'product\').pack}" data-product="{opts.item.get(⁗_id⁗)}" data-hidden="{opts.item.get(⁗_id⁗) === ⁗ir-control⁗ && !$State.get(\'control\')}"',function(t){this.on("before-mount",function(){})}),riot.tag2("section-product-mobile","","","",function(t){}),riot.tag2("section-products-list-mobile","<products-list></products-list>","",'class="pos-abs-full section-hidden overflowY-auto bg-white zIndex-2" data-pos="right" data-open="false"',function(t){var e=this;e.show=function(t){e.tags["products-list"].root.setAttribute("data-product",t),e.root.setAttribute("data-open",!0),$Screen.trigger("hidden",!0),e.opts.item=$Data.getProduct(t),e.tags["products-list"].update()},e.hide=function(){e.root.setAttribute("data-open",!1),$Screen.trigger("hidden",!1)}}),riot.tag2("section-result-count",'<div class="title">Найдено</div> <div class="count">36</div> <div class="subtitle">комплектов</div>',"","",function(t){}),riot.tag2("control-color-item",'<span each="{color in opts.item.split(\'|\')}" no-reorder class="control__color__item color-{color}"></span>',"",'class="control__color__items" data-items="{opts.item.split(\'|\').length}"',function(t){}),riot.tag2("control-color",'<div onclick="{toggle}" onupdate="none" class="control__icon" data-icon="color" data-color="{$Options.get(\'color\')}"> <control-color-item item="{$Options.get(\'color\')}"></control-color-item> </div> <div class="control__container {flex-row-left-center : !app.device.isPhone}"> <div class="control__container__title">цвет свечения</div> <div onclick="{select}" onupdate="none" each="{item in $store.color.get()}" no-reorder class="control__color" data-active="{item.color == $Options.get(\'color\')}" data-color="{item.color}"> <control-color-item item="{item.color}"></control-color-item> </div> </div>',"",'class="control" data-active="{active}" data-hidden="{!$Options.get(\'color\')}"',function(t){var e=this;e.active=!1,e.toggle=function(){e.update({active:!e.active})},e.select=function(){var t=$store.data.getProduct("ledribbon").article,o=this.item.article,i=this.item.color;if(t!=o){var s=$Cursor.ledribbon.get("product","related",{color:i});if(!s){var a=null;_.each($store.data.getProducts("ledribbon"),function(t){a||(t.article==o?a=$store.products.getItemByArticle(o):_.each(t.related,function(e){e.article==o&&(a=$store.products.getItemByArticle(t.article))}))}),a&&($store.data.setProduct(a),$Control.refresh.humidity())}}$Options.set("color",i),e.hide()},e.hide=function(){e.update({active:!1})},e.handleClickOutside=function(t){e.root.contains(t.target)||e.hide()},e.on("updated",function(){e.active?document.addEventListener("click",e.handleClickOutside):document.removeEventListener("click",e.handleClickOutside)})}),riot.tag2("control-humidity",'<div onclick="{toggle}" onupdate="none" class="control__value">{$Options.get(\'hum\')}</div> <div onclick="{toggle}" onupdate="none" class="control__icon" data-icon="humidity"></div> <div class="control__container flex-row-left-center"> <div class="control__container__title">влагозащищенность</div> <div class="nowrap fontSize-0"> <div onclick="{select}" onupdate="none" each="{item in _.sortArray($store.humidity.get(), ⁗hum⁗)}" no-reorder class="pos-rel display-inlineBlock" data-balloon="{tooltip.get({\'title\': item.hum}) ? tooltip.get({\'title\': item.hum}).text : null}" data-balloon-pos="up"> <div class="btn {item.hum == $Options.get(\'hum\') ? \'btn-primary\' : \'btn-primary-hover\'} btn-m w40 p0 mlr-xxs text-center"> {item.hum} </div> </div> </div> </div>',"",'class="control" data-active="{active}" data-hidden="{!$Options.get(\'hum\')}"',function(t){var e=this;e.active=!1,e.tooltip=new Baobab([{title:"IP20",text:"Защита от пальцев"},{title:"IP33",text:"Защита от дождя"},{title:"IP65",text:"Защита от водяных струй"},{title:"IP66",text:"Защита от морских волн"},{title:"IP67",text:"На глубину менее 1м"},{title:"IP68",text:"На глубину более 1м"}]),e.toggle=function(){e.update({active:!e.active})},e.select=function(){var t=$store.data.getProduct("ledribbon").article,o=this.item.article,i=this.item.hum;t!=o&&($store.data.setProduct($store.products.getItemByArticle(o)),$Control.refresh.color()),$Options.set("hum",i),e.hide()},e.hide=function(){e.update({active:!1})},e.handleClickOutside=function(t){e.root.contains(t.target)||e.hide()},e.on("updated",function(){e.active?document.addEventListener("click",e.handleClickOutside):document.removeEventListener("click",e.handleClickOutside)})}),riot.tag2("control-length",'<div onclick="{toggle}" onupdate="none" class="control__value">{$Options.get(\'length\')}м</div> <div onclick="{toggle}" onupdate="none" class="control__icon" data-icon="length"></div> <div class="control__container flex-row-left-center"> <div class="control__container__title">длина ленты</div> <ui-slider update="length" cursor="{$Options.select()}" phone="true" size="m" min="5" max="50" step="5" ed="м" readonly="true"></ui-slider> <div onclick="{hide}" onupdate="none" class="control__button"></div> </div>',"",'class="control" data-active="{active}"',function(t){var e=this;e.active=!1,e.toggle=function(){e.update({active:!e.active})},e.hide=function(){e.update({active:!1})},e.handleClickOutside=function(t){e.root.contains(t.target)||e.hide()},e.on("updated",function(){e.active?document.addEventListener("click",e.handleClickOutside):document.removeEventListener("click",e.handleClickOutside)})}),riot.tag2("control-light",'<div onclick="{toggle}" onupdate="none" class="control__light__icon" data-light="{$Options.get(\'light\')}"></div> <div onclick="{toggle}" onupdate="none" class="control__icon" data-icon="light"></div> <div class="control__container flex-row-left-center"> <div class="control__container__title">тип освещения</div> <div onclick="{select}" onupdate="none" each="{item in $store.light.get()}" class="control__light__item" data-balloon="{item.title}" data-balloon-pos="up" data-light="{item._id}"></div> </div>',"",'class="control" data-active="{active}"',function(t){var e=this;e.active=!1,e.toggle=function(){e.update({active:!e.active})},e.select=function(){$Options.set("light",this.item._id),e.hide()},e.hide=function(){e.update({active:!1})},e.handleClickOutside=function(t){e.root.contains(t.target)||e.hide()},e.on("updated",function(){e.active?document.addEventListener("click",e.handleClickOutside):document.removeEventListener("click",e.handleClickOutside)})}),riot.tag2("control-wrapper",'<div if="{app.device.isPhone}" onclick="{parent.hide}" onupdate="none" class="control back"></div> <div if="{!app.device.isPhone}" onclick="{$Menu.items.open.order}" onupdate="none" class="control"> <div class="button__ok"></div> </div> <control-light></control-light> <control-length></control-length> <control-color></control-color> <control-humidity></control-humidity>',"",'class="control__wrapper"',function(t){}),riot.tag2("section-control",'<total-price if="{!app.device.isPhone}"></total-price> <control-wrapper></control-wrapper>',"",'class="section__control"',function(t){}),riot.tag2("menu-items",'<div onclick="{open.sendmail}" class="menu__item" data-active="{section === ⁗sendmail⁗}" data-balloon="Отправить расчет на email" data-balloon-pos="left"> <div class="menu__item__icon"> <icon-email></icon-email> </div> <div class="menu__item__title">Отправить расчет на почту</div> </div> <div onclick="{open.order}" class="menu__item" data-active="{section === ⁗order⁗}" data-balloon="Отправить предзаказ" data-balloon-pos="left"> <div class="menu__item__icon"> <icon-order></icon-order> </div> <div class="menu__item__title">Отправить предзаказ</div> </div> <div onclick="{open.payment}" class="menu__item" data-active="{section === ⁗payment⁗}" data-balloon="Оплатить заказ" data-balloon-pos="left"> <div class="menu__item__icon"> <icon-wallet></icon-wallet> </div> <div class="menu__item__title">Оплатить заказ</div> </div> <div onclick="{open.gallery}" class="menu__item" data-active="{section === ⁗gallery⁗}" data-balloon="Выбрать подсветку из галереи" data-balloon-pos="left"> <div class="menu__item__icon"> <icon-gallery></icon-gallery> </div> <div class="menu__item__title">Сделать выбор из галереи</div> </div>',"",'class="menu__items"',function(t){var e=this;e.section=null,e.open={order:function(){$Screen.sections.order.change("order"),e.section="order",e.parent.orderMode||e.open.section()},sendmail:function(){$Screen.sections.order.change("sendmail"),e.section="sendmail",e.parent.orderMode||e.open.section()},payment:function(){$Screen.sections.order.change("payment"),e.section="payment",e.parent.orderMode||e.open.section()},gallery:function(){$Screen.sections.order.change("gallery"),e.section="gallery",e.parent.orderMode||e.open.section()},section:function(){e.parent.show(),e.parent.orderMode=!0,e.parent.root.setAttribute("data-order",!0),e.parent.orderList.update(),e.update()}}}),riot.tag2("section-menu",'<div class="menu__wrapper"> <div onclick="{show}" onupdate="none" class="menu__item menu__opener"> <div class="menu__opener__line"></div> <div class="menu__opener__line"></div> <div class="menu__opener__line"></div> </div> <div onclick="{hide}" onupdate="none" class="menu__close"></div> <div class="menu__contacts"> <div class="menu__contacts__text"> <div class="menu__contacts__title">Компания ООО «ЛИДЕР»</div> <div class="menu__contacts__phone">8 800 500 65 78</div> </div> <a class="menu__contacts__link" target="_blank" rel="noopener" href="http://ledtop-shop.ru/pages/contacts">контакты</a> </div> <div onclick="{$Screen.open.tutorial}" onupdate="none" class="menu__item menu__item__help" data-balloon="Обзор интерфейса" data-balloon-pos="left"> <icon-help size="l"></icon-help> </div> <total-price></total-price> </div> <menu-items></menu-items> <order-list></order-list> <div class="menu__footer__text">Мы осуществляем доставку во все регионы России</div>',"",'class="menu"',function(t){var e=this;e.orderMode=!1,e.on("before-mount",function(){e.orderList=e.tags["order-list"],e.items=e.tags["menu-items"],e.totalPrice=e.tags["total-price"]}),e.show=function(){document.addEventListener("click",e.handleClickOutside),$Screen.root.setAttribute("data-menu",!0)},e.hide=function(){document.removeEventListener("click",e.handleClickOutside),$Screen.root.setAttribute("data-menu",!1),e.orderMode&&(e.orderMode=!1,$Screen.sections.order.hide(),e.root.setAttribute("data-order",!1))},e.handleClickOutside=function(t){e.root.contains(t.target)||e.orderMode||e.hide()}}),riot.tag2("order-list",'<div if="{$Screen.sections.totalPrice.total}"> <div each="{item in $store.data.get()}" no-reorder class="order__list__item" data-hidden="{item.product.type == \'control\' && !$Options.get(\'controlled\')}"> <div class="order__list__item__image"> <img riot-src="{$store.products.getImageByArticle(item.product.article)}"> </div> <div class="order__list__item__text"> <div class="order__list__item__article">Арт: {item.product.article}</div> <div class="order__list__item__title">{item.product.title}</div> <div class="order__list__item__price">= {item._id == \'ledribbon\' ? $Options.get(⁗length⁗) + \' м x \' + _.numberFormat(item.product.price, 0, ⁗⁗, ⁗,⁗) : \'1 шт x \' +  _.numberFormat(item.product.price, 0, ⁗⁗, ⁗,⁗)} ₽</div> </div> </div> </div> <div if="{!$Screen.sections.totalPrice.total}" class="order__list__empty"> Для совершения заказа выберите компоненты </div>',"",'class="order__list"',function(t){}),riot.tag2("screens-order-form",'<div class="rows"> <div class="row order__data"> <div class="row mb-l"> <div class="col-sm-14"> <div class="title">Отправить предзаказ</div> </div> <div class="col-sm-10"> <div class="order__data__tooltip" data-icon="secret"> <div class="order__data__tooltip__text">Ваши данные охраняются законом №152 о защите персональных данных</div> </div> </div> </div> <div class="row mb-m"> <div class="col-sm-offset-7 col-sm-17"> <div class="pk__select"> <div class="pk__select__title">Пользовательский набор</div> </div> </div> </div> <div class="row mb-m"> <div class="hidden-xs col-sm-7 pt-xs plr-m"> <span class="name">Ваше имя</span> </div> <div class="col-sm-17"> <ui-input update="name" cursor="{$store.order.select()}" size="l"></ui-input> </div> </div> <div class="row mb-m"> <div class="hidden-xs col-sm-7 pt-xs plr-m"> <span class="name">Телефон для связи</span> </div> <div class="col-sm-6"> <ui-input update="email" cursor="{$store.order.select()}" size="l"></ui-input> </div> <div class="col-sm-4 pt-xs"> <span class="name">или E-mail</span> </div> <div class="col-sm-7"> <ui-input update="phone" cursor="{$store.order.select()}" size="l"></ui-input> </div> </div> <div if="{comments}" class="row mb-m"> <div class="hidden-xs col-sm-7 pt-xs plr-m"> <span class="name">Коментарии</span> </div> <div class="col-sm-17"> <ui-textarea update="comments" cursor="{$store.order.select()}" size="l"></ui-textarea> </div> </div> <div if="{!comments}" class="row mb-m"> <div class="col-sm-offset-7 col-sm-17"> <button onclick="{showComments}" class="btn btn-white-hover btn-l"><svg class="btn-svg btn-svg-plus" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewbox="0 0 100 125" enable-background="new 0 0 100 100" xml:space="preserve"><path class="btn-svg-color" d="M87.754,45.284H54.716V12.246c0-2.605-2.111-4.716-4.716-4.716c-1.302,0-2.481,0.528-3.334,1.382 c-0.853,0.853-1.381,2.032-1.382,3.334v33.038l-33.038,0c-1.302,0-2.481,0.528-3.334,1.382C8.058,47.519,7.53,48.698,7.53,50 c0,2.605,2.111,4.716,4.716,4.716l33.038,0l0,33.038c0,2.605,2.111,4.716,4.716,4.716c2.604,0,4.716-2.112,4.716-4.716l0-33.038 h33.038c2.604,0,4.716-2.112,4.716-4.716C92.47,47.395,90.359,45.284,87.754,45.284z"></path></svg>Мой комментарий</button> </div> </div> <div if="{$Screen.sections.totalPrice.total}" class="row"> <div class="col-sm-offset-6 col-sm-8 order__data__total"> = {_.numberFormat($Screen.sections.totalPrice.total, 0, ⁗⁗, ⁗,⁗)} ₽ </div> <div class="col-sm-10"> <button class="float-right btn btn-default-hover-success btn-xl btn-rounded plr-l">Отправить предзаказ</button> </div> </div> <div if="{!$Screen.sections.totalPrice.total}" class="row"> <div class="col-sm-24"> <p class="text-right">Вы не выбрали компоненты</p> </div> </div> </div> </div>',"",'class="screens__order__section" data-section="order"',function(t){var e=this;e.comments=!1,e.showComments=function(){e.comments=!0}}),riot.tag2("screens-order-payment",'<div class="rows"> <div class="row order__data"> <div class="row mb-xl"> <div class="col-sm-11"> <div class="title">Оплатить заказ</div> </div> <div class="col-sm-13"> <div class="order__data__tooltip"> <icon-wallet color="white"></icon-wallet> <div class="order__data__tooltip__text">Принимаем основные виды оплат: банковские карты, электронные деньги, интернет банкинг</div> </div> </div> </div> <div class="row mb-m"> <div class="col-sm-offset-7 col-sm-17"> <div class="pk__select"> <div class="pk__select__title">Пользовательский набор</div> </div> </div> </div> <div class="row mb-m"> <div class="hidden-xs col-sm-7 pt-xs plr-m"> <span class="name">Ваше ФИО</span> </div> <div class="col-sm-17"> <ui-input update="name" cursor="{$store.order.select()}" size="l"></ui-input> </div> </div> <div class="row mb-l"> <div class="hidden-xs col-sm-7 pt-xs plr-m"> <span class="name">Телефон для связи</span> </div> <div class="col-sm-6"> <ui-input update="email" cursor="{$store.order.select()}" size="l"></ui-input> </div> <div class="col-sm-4 pt-xs"> <span class="name">и E-mail</span> </div> <div class="col-sm-7"> <ui-input update="phone" cursor="{$store.order.select()}" size="l"></ui-input> </div> </div> <div if="{$Screen.sections.totalPrice.total}" class="row mb-xl"> <div class="col-sm-offset-7 col-sm-9 order__data__total"> = {_.numberFormat($Screen.sections.totalPrice.total, 0, ⁗⁗, ⁗,⁗)} ₽ </div> <div class="col-sm-8"> <button class="float-right btn btn-default-hover-success btn-xl btn-rounded plr-l">Оплатить заказ</button> </div> </div> <div if="{!$Screen.sections.totalPrice.total}" class="row mb-xl"> <div class="col-sm-24"> <p class="text-right">Вы не выбрали компоненты</p> </div> </div> </div> </div>',"",'class="screens__order__section" data-section="payment"',function(t){}),riot.tag2("screens-order",'<div name="wrapper" class="screens__order__wrapper"> <screens-order-sendmail></screens-order-sendmail> <screens-order-form></screens-order-form> <screens-order-payment></screens-order-payment> <screens-gallery></screens-gallery> </div>',"",'class="screens__order" data-open="{active}"',function(t){var e=this;e.active=!1,e.on("before-mount",function(){e.sections={sendmail:e.tags["screens-order-sendmail"],form:e.tags["screens-order-form"],payment:e.tags["screens-order-payment"],gallery:e.tags["screens-gallery"]}}),e.change=function(t){e.active||e.show(),e.wrapper.setAttribute("data-section",t),"payment"==t&&e.sections.payment.update()},e.show=function(){e.active=!0,e.root.setAttribute("data-open",!0)},e.hide=function(){e.active=!1,e.root.setAttribute("data-open",!1)}}),riot.tag2("screens-order-sendmail",'<div class="rows"> <div class="row order__data"> <div class="row mb-xl"> <div class="col-sm-14"> <div class="title">Отправить на почту</div> </div> <div class="col-sm-10"> <div class="order__data__tooltip"> <icon-email color="white"></icon-email> <div class="order__data__tooltip__text">Отправить расчет выбранных компонентов на свой email</div> </div> </div> </div> <div class="row mb-m"> <div class="col-sm-offset-7 col-sm-17"> <div class="pk__select"> <div class="pk__select__title">Пользовательский набор</div> </div> </div> </div> <div class="row mb-l"> <div class="hidden-xs col-sm-7 pt-xs plr-m"> <span class="name">Куда отправить?</span> </div> <div class="col-sm-17"> <ui-input update="email" placeholder="Укажите E-mail" cursor="{$store.order.select()}" size="l"></ui-input> </div> </div> <div if="{$Screen.sections.totalPrice.total}" class="row mb-xl"> <div class="col-sm-offset-6 col-sm-9 order__data__total"> = {_.numberFormat($Screen.sections.totalPrice.total, 0, ⁗⁗, ⁗,⁗)} ₽ </div> <div class="col-sm-9"> <button class="float-right btn btn-default-hover-success btn-xl btn-rounded plr-l">Отправить расчет</button> </div> </div> <div if="{!$Screen.sections.totalPrice.total}" class="row mb-xl"> <div class="col-sm-24"> <p class="text-right">Вы не выбрали компоненты</p> </div> </div> </div> </div>',"",'class="screens__order__section" data-section="sendmail"',function(t){}),riot.tag2("total-price",'<div class="total__equal">=</div> <div class="total__price">{_.numberFormat(total, 0, ⁗⁗, ⁗,⁗)} <span class="total__price__rub">₽</span></div>',"",'class="total"',function(t){var e=this;e.total=0,e.refresh=function(t){_.isNumber(t)&&e.update({total:t})}}),riot.tag2("section-packages-select","<div class=\"packages__select__value\">{$Options.get('package') ? $store.packages.getTitleById($Options.get('package')) : 'Пользовательский набор'}</div> <div class=\"packages__select__lines\"></div>","",'onclick="{$Screen.sections.packages.show}" onupdate="none" class="packages__select"',function(t){}),riot.tag2("section-packages",'<div class="pos-rel anim-group1 anim-fadeIn zIndex-2" duration-show="l" duration-hide="xs" delay-show="m"> <div onclick="{hide}" onupdate="none" class="button__close opacity-50" data-pos="top-right" data-color="gray"></div> </div> <div class="packages__header anim-group1 anim-tb-soft" duration-show="l" duration-hide="none" delay-show="xs"> <div class="container"> <div class="row"> <div class="col-md-8"> <div class="packages__title">Эконом</div> </div> <div class="col-md-8"> <div class="packages__title">Норма</div> </div> <div class="col-md-8"> <div class="packages__title">ЛЮКС</div> </div> </div> </div> </div> <div class="packages__content anim-group1 anim-bt-soft" duration-show="m" duration-hide="none" delay-show="xs"> <div class="container"> <div class="row"> <div each="{group in $store.group.get()}" no-reorder class="col-md-8 packages__list" data-package="{group._id}"> <div class="packages__list__items"> <div if="{item.active}" onclick="{select}" onupdate="none" each="{item in get.list(group._id)}" no-reorder class="packages__list__item__container" data-balloon="{item.text}" data-balloon-fontsize="small" data-balloon-length="large" data-balloon-color="blue" data-balloon-pos="down"> <div class="packages__list__item" data-active="{$Options.get(\'package\') == item._id}"> {item.title} <div class="packages__list__item__price"> {_.numberFormat(get.price(item._id), 0, ⁗⁗, ⁗,⁗)} ₽ </div> </div> </div> </div> </div> </div> </div> </div>',"",'class="oScreen zIndex-10 {showAnim-group1 : active}" data-open="{active}" data-color="dark"',function(t){var e=this;e.show=function(){e.update({active:!0})},e.get={list:function(t){var e={group:t,light:$Options.get("light"),length:$Options.get("length")},o=_.sortArray($store.packages.getItemsByParams(e),"pos");return o},price:function(t){return $store.packages.getPrice(t,$Options.get("length"))}},e.select=function(){var t=$store.packages.getItemById(this.item._id);$Options.select("package").set(this.item._id),$State.select("group").set(this.item.group),$Screen.set.products({ledribbon:t.ledribbon,power:t.power,control:t.control}),$Control.refresh.humidity(),$Control.refresh.color(),$Screen.set.totalPrice(),$Screen.update(),e.hide()},e.hide=function(){e.update({active:!1})}}),riot.tag2("connect-control","","",'onclick="{toggle}" class="connect__control" data-active="{$Options.get(\'controlled\')}" data-hidden="{hidden}"',function(t){var e=this;e.hidden=!1,e.toggle=function(){$Options.set("controlled",!$Options.get("controlled"))},e.show=function(){e.root.setAttribute("data-hidden",!1)},e.hide=function(){e.root.setAttribute("data-hidden",!0)}}),riot.tag2("product-content",'<div class="title">{opts.item.get().title}</div> <div class="product__label">{$store.group.getTitleById(opts.item.get(\'product\').group)}</div> <div onclick="{parent.tags[⁗products-list⁗].toggle}" onupdate="none" class="product__select"> <div class="product__select__count">{$store.data.getProductsCount(opts.item.get(⁗_id⁗))}</div> </div> <div class="product__article">Арт: <strong>{opts.item.get(\'product\').article}</strong></div> <div if="{opts.item.get(⁗_id⁗) !== ⁗ledribbon⁗}" class="product__sizes" data-balloon="длина: {opts.item.get(\'product\').size.length} мм ширина: {opts.item.get(\'product\').size.width} мм высота: {opts.item.get(\'product\').size.height} мм" data-balloon-pos="left" data-balloon-color="gray" data-hidden="{!opts.item.get(\'product\').size}"> <div class="product__sizes__icon"></div> </div> <div class="product__item"> <div class="product__item__photo"> <img class="product__item__photo__image" onerror="this.src=\'/assets/images/no_photo_big.png\'" riot-src="{$store.products.getImageByArticle(opts.item.get(\'product\').article)}"> </div> <div class="product__item__text" data-balloon="{opts.item.get(\'product\').title}" data-balloon-color="gray" data-selected="{$State.get(⁗showProducts⁗) == opts.item.get(\'_id\')}">{opts.item.get(\'product\').text}</div> </div> <div class="product__price">{_.numberFormat(opts.item.get(\'product\').price, 0, ⁗⁗, ⁗,⁗)} ₽ {⁗/ м⁗ : opts.item.get(⁗_id⁗) == ⁗ledribbon⁗}</div>',"",'class="product__content"',function(t){}),riot.tag2("product-item",'<product-content item="{opts.item}"></product-content> <connect-control></connect-control> <products-list item="{opts.item}"></products-list> <div class="product__scribble"> <div class="product__scribble__text"> <div class="product__scribble__icon"></div>Не нужно управлять </div> </div> <product-tooltip-screen></product-tooltip-screen>',"",'class="col-md-8 product" data-group="{opts.item.get(\'product\').group}" data-product="{opts.item.get(⁗_id⁗)}" data-hidden="{opts.item.get(⁗_id⁗) === ⁗control⁗ && !$Options.get(\'controlled\')}" data-empty="{!opts.item.get(\'product\')}"',function(t){}),riot.tag2("product-tooltip-screen",'<div class="product__tooltip__screen__text"> Все представленные компоненты прошли тщательный отбор и отвечают всем современным требованиям. </div>',"",'onmouseover="{hide}" onupdate="none" class="product__tooltip__screen" data-active="{active}"',function(t){var e=this;e.active=!1,e.show=function(){e.update({active:!0}),$afterlag.run(function(){e.hide()},{delay:3e3,iterations:5}),$State.set("tooltipScreen",!0)},e.hide=function(){e.active&&$afterlag.run(function(){e.update({active:!1})},{delay:1e3,iterations:5})}}),riot.tag2("products-list",'<div class="products__list__container"> <div onclick="{hide}" onupdate="none" class="products__list__close">{app.device.isPhone ? \'закрыть\' : \'скрыть\'}</div> <div each="{group in $store.group.clone().reverse()}" no-reorder class="{display-none : !$store.data.getProductsByGroup(parent.opts.item.get(\'_id\'), group._id).length}"> <div class="products__list__title"> <span if="{group._id == ⁗lux⁗}" class="products__list__stars"><i></i><i></i><i></i></span> <span if="{group._id == ⁗norm⁗}" class="products__list__stars"><i></i><i></i></span> <span if="{group._id == ⁗econom⁗}" class="products__list__stars"><i></i></span> {group.title} </div> <div class="rows products__list__items" data-items="{group._id}"> <div class="row"> <div onclick="{onSelect}" onupdate="none" each="{item, i in $store.data.getProductsByGroup(parent.opts.item.get(\'_id\'), group._id)}" no-reorder data-id="{item.article}" class="col-xs-8 products__list__item" data-active="{get.select(item)}"> <img riot-src="{$store.products.getImageByArticle(item.article)}" class="products__list__item__image"> </div> </div> </div> </div> </div>',"",'class="products__list" data-active="false"',function(t){var e=this,o=$$(e.root);e.active=!1,e.selected=null,e.product=null,e.on("mount",function(){app.device.isMobile||o.on("mouseenter mouseleave",".products__list__item",function(t){if("true"==t.currentTarget.getAttribute("data-active"))"mouseenter"===t.type&&$Product[$State.get("showProducts")].update();else if("mouseenter"===t.type){e.product=_.copyArray(e.opts.item.get("product"));var o=e.opts.item.get("products",{article:t.currentTarget.getAttribute("data-id")});e.selected=e.product.article,$store.data.setProduct(o);
}else e.selected=null,$store.data.setProduct(e.product)})}),e.get={select:function(t){return e.selected?e.selected===t.article:$Product[e.opts.item.get("_id")].opts.item.get("product").article===t.article}},e.onSelect=function(){e.selected=null;var t=e.product.article;$store.data.setProduct(this.item),"ledribbon"==e.opts.item.get("_id")&&($Control.refresh.humidity(),$Control.refresh.color()),app.device.isPhone&&e.update(),e.hide(),$Options.get("package")&&t&&t!=this.item.article&&($Options.select("package").set(),$Screen.sections.packages.update(),$Screen.sections.packagesSelect.update())},e.toggle=function(){!e.active&&$State.get("showProducts")?$Notify.show({text:"Завершите предыдущий выбор"}):(e.active=!e.active,e.control())},e.show=function(){e.active=!0,e.control()},e.hide=function(){app.device.isPhone?e.parent.hide():(e.active=!1,e.control())},e.control=function(){if(e.parent.root.setAttribute("data-products",e.active),e.root.setAttribute("data-active",e.active),e.active)$Product.power.tags["connect-control"].hide(),$State.set("showProducts",e.opts.item.get("_id"));else{var t=$State.get("showProducts");$Product.power.tags["connect-control"].show(),$State.set("showProducts",!1),$Product[t].update()}}}),riot.tag2("screen-begin",'<div class="container pos-centered"> <div name="text1" class="row anim-text anim-text-bt {anim-textIn : animate.text1.in, anim-textOut : animate.text1.out}" delay-hide="s"> <div class="col-md-20 centered"> <div class="fontSize-52 fontWeight-3 text-center">Мы вам поможем подобрать готовый комплект для вашей подсветки.</div> </div> </div> </div> <div class="container pos-centered h60"> <div name="text2" class="row anim-text anim-text-bt {anim-textIn : animate.text2.in, anim-textOut : animate.text2.out}" delay-hide="m"> <div class="col-md-20 centered"> <div class="fontSize-44 fontWeight-3 text-center">Уделите несколько минут внимания, и выбранный комплект будет радовать вас долгие годы.</div> </div> </div> </div>',"",'class="section"',function(t){var e=this;$$(this.root);e.animate={text1:{in:!1,out:!1},text2:{in:!1,out:!1}},e.show=function(){$afterlag.run(function(){e.animate.text1.in=!0,e.update(),_.onEndAnimation(e.text1,function(){e.animate.text1.in=!1,e.animate.text1.out=!0,e.update(),_.onEndAnimation(e.text1,function(){e.animate.text1.out=!1,e.animate.text2.in=!0,e.update(),_.onEndAnimation(e.text2,function(){e.animate.text2.in=!1,e.animate.text2.out=!0,e.update(),_.onEndAnimation(e.text2,function(){e.animate.text2.out=!1,e.update(),$Screens.step1.show()})})})})},{iterations:5})}}),riot.tag2("screens","<screen-begin></screen-begin> <screen-step1></screen-step1> <screen-step2></screen-step2> <screen-podbor></screen-podbor>","",'class="screens section"',function(t){var e=this;e.on("before-mount",function(){$Screens={self:e,begin:e.tags["screen-begin"],step1:e.tags["screen-step1"],step2:e.tags["screen-step2"],podbor:e.tags["screen-podbor"]},$Screen=$Screens.podbor}),e.on("steps-hidden",function(){$Screens.begin.root.setAttribute("data-visible",!1),$Screens.step1.root.setAttribute("data-visible",!1),$Screens.step2.root.setAttribute("data-visible",!1)})}),riot.tag2("screen-step1",'<div class="container pos-centered h95v"> <div name="tooltip" class="tooltip anim-group1 anim-tb" delay-show="xl" data-duration="xl"> Выберите тип подстветки </div> <div class="row"> <div onclick="{select}" data-light="1" onupdate="none" class="col-md-8 cell anim-group1 anim-bt" data-duration="xl"> <div class="column" data-column="1"> <div class="column__content"> <div class="column__content__text">Монохромная подстветка</div> </div> <div class="column__tooltip" data-tooltip="1"> <div class="column__tooltip__icon" data-icon="mono"></div> <span class="column__tooltip__title">Монохромная подстветка</span> <p>Отлично подойдет как декоративная подсветка внутри помещений, офисов и квартир</p> </div> </div> </div> <div onclick="{select}" data-light="2" onupdate="none" class="col-md-8 cell anim-group1 anim-scale-soft" delay-show="xs"> <div class="column" data-column="2"> <div class="column__content"> <div class="column__content__text">Мультицветная</div> </div> <div class="column__tooltip" data-tooltip="2"> <div class="column__tooltip__icon" data-icon="rgb"></div> <span class="column__tooltip__title">Мультицветная</span> <p>Отлично подойдет как декоративная подсветка внутри помещений, офисов и квартир</p> </div> </div> </div> <div onclick="{select}" data-light="3" onupdate="none" class="col-md-8 cell anim-group1 anim-bt" delay-show="xs" data-duration="xl"> <div class="column" data-column="3"> <div class="column__content"> <div class="column__content__text">Бегущий огонь</div> </div> <div class="column__tooltip" data-tooltip="3"> <div class="column__tooltip__icon" data-icon="fire"></div> <span class="column__tooltip__title">Бегущий огонь</span> <p>Отлично подойдет как декоративная подсветка внутри помещений, офисов и квартир</p> </div> </div> </div> </div> </div>',"",'class="section {showAnim-group1 : animate}" data-active="{active}"',function(t){var e=this;$$(this.root);e.active=!1,e.animate=!1,e.show=function(){$afterlag.run(function(){e.update({animate:!0})}),_.onEndTransition(e.tooltip,function(){e.update({active:!0})},{iterations:5})},e.select=function(t){e.hide(function(){$Screens.step2.show()}),$Options.set("light",t.currentTarget.getAttribute("data-light"))},e.hide=function(t){e.update({animate:!1,active:!1}),_.isFunction(t)&&_.onEndTransition(e.tooltip,function(){e.root.setAttribute("data-visible",!1),$afterlag.run(function(){t()},{timeout:500})})}}),riot.tag2("screen-step2",'<div class="section__overlay"></div> <div class="container pos-centered-h zIndex-10"> <div class="row"> <div class="col-md-10 centered main__tooltip">Выберайте близкий вам класс, в последующем его можно легко сменить или модифицировать.</div> </div> </div> <div class="arrow__left">Эконом</div> <div class="arrow__right">Люкс</div> <div class="container pos-centered header"> <div name="container" class="row anim-text anim-text-bt {anim-textIn : animate.in, anim-textOut : animate.out}"> <div class="col-md-24 centered"> <div class="title">Выбираем класс компонентов</div> </div> </div> </div> <div class="container pos-centered packs zIndex-10"> <div class="row packs__container"> <div class="col-md-8 pack pack-econom anim-group1 anim-bt" data-duration="xl"> <div onclick="{select}" onupdate="none" class="pack__container" data-pack="econom"> <div class="pack__circle__big"> <div class="pack__circle__big__title">Эконом</div> <div class="pack__circle__big__tooltip"> <span class="pack__circle__big__tooltip__title">Эконом</span> <p>Отлично подойдет как декоративная подсветка внутри помещений, офисов и квартир</p> </div> </div> <div class="pack__circle__small"> 28 <div class="pack__circle__small__text">комплектов</div> </div> <div class="tooltips"> <div class="tooltip" data-tooltip="power-supply"> <div class="tooltip__icon"></div> <div class="tooltip__text">Компактные и очень надежные блоки питания</div> </div> <div class="tooltip" data-tooltip="led"> <div class="tooltip__icon"></div> <div class="tooltip__text">Светодиоды высокого качества</div> </div> <div class="tooltip" data-tooltip="ir-control"> <div class="tooltip__icon"></div> <div class="tooltip__text">Легкое и функциональное управление</div> </div> </div> </div> </div> <div class="col-md-8 pack pack-norm anim-group1 anim-bt" delay-show="s" data-duration="xl"> <div onclick="{select}" onupdate="none" class="pack__container" data-pack="norm"> <div class="pack__circle__big"> <div class="pack__circle__big__title">Норма</div> <div class="pack__circle__big__tooltip"> <span class="pack__circle__big__tooltip__title">Норма</span> <p>Отлично подойдет как декоративная подсветка внутри помещений, офисов и квартир</p> </div> </div> <div class="pack__circle__small"> 31 <div class="pack__circle__small__text">комплектов</div> </div> <div class="tooltips"> <div class="tooltip" data-tooltip="power-supply"> <div class="tooltip__icon"></div> <div class="tooltip__text">Компактные и очень надежные блоки питания</div> </div> <div class="tooltip" data-tooltip="ledribbon"> <div class="tooltip__icon"></div> <div class="tooltip__text">Лента класса LUX, супер надежная и качественная</div> </div> <div class="tooltip" data-tooltip="humidity"> <div class="tooltip__icon"></div> <div class="tooltip__text">Высокая степень влагозащищенности IP68</div> </div> <div class="tooltip" data-tooltip="ir-control"> <div class="tooltip__icon"></div> <div class="tooltip__text">Легкое и функциональное управление</div> </div> </div> </div> </div> <div name="lastPack" class="col-md-8 pack pack-lux anim-group1 anim-bt" delay-show="l" data-duration="xl"> <div onclick="{select}" onupdate="none" class="pack__container" data-pack="lux"> <div class="pack__circle__big"> <div class="pack__circle__big__title">Люкс</div> <div class="pack__circle__big__tooltip"> <span class="pack__circle__big__tooltip__title">Люкс</span> <p>Отлично подойдет как декоративная подсветка внутри помещений, офисов и квартир</p> </div> </div> <div class="pack__circle__small"> 24 <div class="pack__circle__small__text">комплектов</div> </div> <div class="tooltips"> <div class="tooltip" data-tooltip="power-supply"> <div class="tooltip__icon"></div> <div class="tooltip__text">Компактные и очень надежные блоки питания</div> </div> <div class="tooltip" data-tooltip="ledribbon"> <div class="tooltip__icon"></div> <div class="tooltip__text">Лента класса LUX, супер надежная и качественная</div> </div> <div class="tooltip" data-tooltip="led"> <div class="tooltip__icon"></div> <div class="tooltip__text">Светодиоды высокого качества</div> </div> <div class="tooltip" data-tooltip="humidity"> <div class="tooltip__icon"></div> <div class="tooltip__text">Высокая степень влагозащищенности IP68</div> </div> <div class="tooltip" data-tooltip="ir-control"> <div class="tooltip__icon"></div> <div class="tooltip__text">Легкое и функциональное управление</div> </div> </div> </div> </div> </div> </div>',"",'class="section {showAnim-group1 : animate.pack}" data-active="{active}" data-overlay="false" data-tooltip="false" data-visible="false"',function(t){var e=this,o=$$(this.root);e.active=!1,e.animate={in:!1,out:!1,pack:!1},e.on("mount",function(){o.on("mouseenter mouseleave",".pack",function(t){"mouseenter"===t.type?e.root.setAttribute("data-overlay",!0):e.root.setAttribute("data-overlay",!1),t.currentTarget.getAttribute("class").match(/norm/)?e.root.setAttribute("data-tooltip",!0):e.root.setAttribute("data-tooltip",!1)})}),e.show=function(){e.root.setAttribute("data-visible",!0),$afterlag.run(function(){e.update({animate:{in:!0,out:!1,pack:!1}}),_.onEndAnimation(e.container,function(){e.update({animate:{in:!0,out:!1,pack:!0}}),_.onEndTransition(e.lastPack,function(){e.update({active:!0})})})},{iterations:5,timeout:500})},e.select=function(t){$afterlag.run(function(){e.hide(function(){$Router.nav("podbor"),$Screens.podbor.show({animate:!0})})},{timeout:500}),$State.set("group",t.currentTarget.getAttribute("data-pack"))},e.hide=function(t){o.off(),e.root.setAttribute("data-overlay",!1),e.update({animate:{in:!1,out:!1,pack:!1}}),_.isFunction(t)&&_.onEndTransition(e.lastPack,function(){e.root.setAttribute("data-visible",!1),t()})}}),riot.tag2("screen-begin-mobile",'<div class="text__wrapper"> <div name="text1" class="anim-text anim-text-bt {anim-textIn : animate.text1.in, anim-textOut : animate.text1.out}" delay-hide="s"> Мы вам поможем подобрать готовый комплект для вашей подсветки </div> </div> <div class="text__wrapper"> <div name="text2" class="anim-text anim-text-bt {anim-textIn : animate.text2.in, anim-textOut : animate.text2.out}" delay-hide="m"> Уделите несколько минут внимания, и выбранный комплект будет радовать вас долгие годы </div> </div>',"",'class="section"',function(t){var e=this;$$(this.root);e.animate={text1:{in:!1,out:!1},text2:{in:!1,out:!1}},e.show=function(){$afterlag.m(function(){e.animate.text1.in=!0,e.update(),_.onEndAnimation(e.text1,function(){e.animate.text1.in=!1,e.animate.text1.out=!0,e.update(),_.onEndAnimation(e.text1,function(){e.animate.text1.out=!1,e.animate.text2.in=!0,e.update(),_.onEndAnimation(e.text2,function(){e.animate.text2.in=!1,e.animate.text2.out=!0,e.update(),_.onEndAnimation(e.text2,function(){e.animate.text2.out=!1,e.update(),$Screens.step1.show()})})})})})}}),riot.tag2("screens-mobile","<screen-begin-mobile></screen-begin-mobile> <screen-step1-mobile></screen-step1-mobile> <screen-step2-mobile></screen-step2-mobile> <screen-podbor-mobile></screen-podbor-mobile>","",'class="screens section"',function(t){var e=this;e.on("before-mount",function(){$Screens={self:e,begin:e.tags["screen-begin-mobile"],step1:e.tags["screen-step1-mobile"],step2:e.tags["screen-step2-mobile"],podbor:e.tags["screen-podbor-mobile"]},$Screen=$Screens.podbor}),e.on("steps-hidden",function(){$Screens.begin.root.setAttribute("data-visible",!1),$Screens.step1.root.setAttribute("data-visible",!1),$Screens.step2.root.setAttribute("data-visible",!1)})}),riot.tag2("screen-step1-mobile",'<div class="rows pos-abs-full"> <div class="header"> <div name="tooltip" class="tooltip anim-group2 anim-tb">Выберите тип подсветки</div> </div> <div onclick="{select}" class="row anim anim-group1 anim-lr-soft" data-light="mono" onupdate="none" duration-hide="m" duration-show="l"> <div class="col-xs-10"> <div class="foto"> <div class="icon"></div> </div> </div> <div class="col-xs-14"> <div class="title anim-group2 anim-bt" delay-show="xs">Монохромная</div> </div> </div> <div onclick="{select}" class="row anim anim-group1 anim-lr-soft" delay-show="xs" data-light="rgb" onupdate="none" duration-hide="m" duration-show="l"> <div class="col-xs-10"> <div class="foto"> <div class="icon"></div> </div> </div> <div class="col-xs-14"> <div class="title anim-group2 anim-bt" delay-show="s">Мультицветная</div> </div> </div> <div onclick="{select}" class="row anim anim-group1 anim-lr-soft" delay-show="s" data-light="lightrun" onupdate="none" duration-hide="m" duration-show="l"> <div class="col-xs-10"> <div class="foto"> <div class="icon"></div> </div> </div> <div class="col-xs-14"> <div class="title anim-group2 anim-bt" delay-show="m">Бегущий огонь</div> </div> </div> </div>',"",'class="section" data-active="{active}"',function(t){var e=this;$$(this.root);e.active=!1,e.on("mount",function(){e.animate=new app.plugins.animate(e.root,{showAfter:1})}),e.show=function(){$afterlag.m(function(){e.animate.show()}),_.onEndTransition(e.tooltip,function(){e.update({active:!0})})},e.select=function(t){e.hide(function(){$Screens.step2.show()}),$State.set("light",t.currentTarget.getAttribute("data-light"))},e.hide=function(t){e.animate.hide(),e.update({active:!1}),_.isFunction(t)&&_.onEndTransition(e.tooltip,function(){e.root.setAttribute("data-visible",!1),$afterlag.run(function(){t()},{timeout:500})})}}),riot.tag2("screen-step2-mobile",'<div class="rows pos-abs-full"> <div class="header"> <div name="tooltip" class="tooltip anim-group2 anim-tb" data-duration="xl">Выберите класс компонентов</div> </div> <div onclick="{select}" class="row anim-group1 anim-lr-soft" data-duration="l" data-pack="lux" onupdate="none"> <div class="col-xs-8 anim-group2 anim-lr-soft"> <div class="name"> <div class="count">24</div> комплектов <div class="price">от 12,500 ₽</div> </div> </div> <div class="col-xs-8"> <div class="line"></div> </div> <div class="col-xs-8"> <div class="title">Люкс</div> </div> </div> <div onclick="{select}" class="row anim-group1 anim-lr-soft" data-duration="l" delay-show="xs" data-pack="norm" onupdate="none"> <div class="col-xs-8 anim-group2 anim-lr-soft" delay-show="xs"> <div class="name"> <div class="count">31</div> комплектов <div class="price">от 8,500 ₽</div> </div> </div> <div class="col-xs-8"> <div class="line"></div> </div> <div class="col-xs-8"> <div class="title">Норма</div> </div> </div> <div onclick="{select}" class="row anim-group1 anim-lr-soft" data-duration="l" delay-show="s" data-pack="econom" onupdate="none"> <div class="col-xs-8 anim-group2 anim-lr-soft" delay-show="s"> <div class="name"> <div class="count">28</div> комплектов <div class="price">от 6,500 ₽</div> </div> </div> <div class="col-xs-8"> <div class="line"></div> </div> <div class="col-xs-8"> <div class="title">Эконом</div> </div> </div> </div>',"",'class="section" data-active="{active}"',function(t){var e=this;$$(this.root);e.active=!1,e.on("mount",function(){e.animate=new app.plugins.animate(e.root,{showAfter:1})}),e.show=function(){$afterlag.run(function(){e.animate.show()}),_.onEndTransition(e.tooltip,function(){e.update({active:!0})})},e.select=function(t){e.hide(function(){$Screens.step2.show()}),$State.set("light",t.currentTarget.getAttribute("data-light"))},e.hide=function(t){e.animate.hide(),e.update({active:!1}),_.isFunction(t)&&_.onEndTransition(e.tooltip,function(){e.root.setAttribute("data-visible",!1),$afterlag.run(function(){t()},{timeout:500})})}}),riot.tag2("screens-gallery",'<div name="screens" class="screens screens-desktop screen__gallery__container"> <div each="{item in _.range(1, 7)}" no-reorder class="screen__gallery__image" data-marquee="{item}" riot-style="background-image:url(/public/images/gallery/slide{item}.jpg)"></div> </div> <div onclick="{open.likes}" onupdate="none" class="screen__gallery__like"></div> <div name="social" class="screen__gallery__like__items"> <div class="screen__gallery__like__item" data-social="fb"> <icon-fb color="white"></icon-fb> </div> <div class="screen__gallery__like__item" data-social="vk"> <icon-vk color="white"></icon-vk> </div> <div class="screen__gallery__like__item" data-social="tw"> <icon-tw color="white"></icon-tw> </div> <div class="screen__gallery__like__item" data-social="gl"> <icon-gl color="white"></icon-gl> </div> <div class="screen__gallery__like__item" data-social="dk"> <icon-dk color="white"></icon-dk> </div> </div> <div class="screen__gallery__stat"> <div>Приобрели</div> <div class="screen__gallery__stat__count">84</div> </div> <div class="screen__gallery__nav"> <div name="navPrev" class="screen__gallery__nav__button i-disabled" data-arrow="up"></div> <div name="navNext" class="screen__gallery__nav__button" data-arrow="down"> <div class="screen__gallery__nav__title">Следующий</div> </div> </div> <div class="screen__gallery__light__title" data-balloon="Тип освещения, еще возможные варианты: монохромная, бегущий огонь" data-balloon-fontsize="small" data-balloon-length="large" data-balloon-pos="up"> <div class="screen__gallery__light__title__content">мультицветная</div> </div> <div class="screen__gallery__options"> <div class="screen__gallery__select"> <div class="screen__gallery__select__title">Класс</div> <div class="select select-xl select-rounded pl-s"> <select> <option each="{item in $store.group.get()}" no-reorder riot-value="{item._id}" selected="{item._id == ⁗norm⁗}">{item.title}</option> </select> </div> </div> <div class="screen__gallery__price"> = {_.numberFormat($Screen.sections.totalPrice.total, 0, ⁗⁗, ⁗,⁗)} ₽ </div> <div class="screen__gallery__select ml-m"> <div class="screen__gallery__select__title">длина</div> <div class="select select-l select-rounded pl-xs"> <select> <option each="{item in _.range(5, 55, 5)}" no-reorder selected="{item == 10}">{item} м</option> </select> </div> </div> <button class="button btn btn-white-hover btn-xl btn-rounded">Хочу такую подсветку!</button> </div>',"",'class="screen__gallery" data-likes="false"',function(t){var e=this;$$(e.root);e.showLikes=!1,e.on("mount",function(){e.screens=new app.plugins.screens(e.screens,{screens:".screen__gallery__image",activeClass:"screen__gallery__colors__item--active",navPrev:$$(e.navPrev),navNext:$$(e.navNext),vertical:!app.device.isPhone,duration:app.device.isPhone?375:600}),$Screen.one("ready",function(){e.screens.init()}),e.share=new app.plugins.share(e.social,{buttons:".screen__gallery__like__item",share:{title:app.config.share.title}})}),e.open={likes:function(){e.showLikes?(e.showLikes=!1,e.root.setAttribute("data-likes",e.showLikes)):(e.showLikes=!0,e.root.setAttribute("data-likes",e.showLikes))}}}),riot.tag2("offer-manager",'<div class="container"> <div class="row pos-rel anim anim-scale-soft zIndex-1" duration-hide="s"> <div class="col-md-8"> <div class="pt-s pl-l pr-m lineHeight-xxl"> <div class="avatar" style="background-image:url(/assets/images/avatars/1.jpg)"></div> <div class="avatar__name">Ваш менеджер, Дарья</div> <div class="avatar__text">Мой телефон: <strong>8 (909) 900-12-20</strong></div> <div class="sign"><a target="_blank" class="link" href="http://ledtop-shop.ru">LEDTOP-Shop.ru</a> / приятного освещения!</div> </div> </div> <div class="col-md-16"> <div class="pl-m pr-xl"> <div class="message"> <div class="message__corner"></div> Михаил, в продолжении нашего разговора я подобрала по вашим требования комплект. Если потребуется, здесь вы можете модифицировать мою конфигурацию и внести свои изменения. <p>Для дальнейшей консультации, я для Вас на связи!</p> <button onclick="{hide}" class="btn btn-xl btn-white">Перейти к комплекту</button> </div> </div> </div> </div> <div class="row anim anim-scale-soft" duration-hide="s"> <div class="order__products"> <div class="col-md-offset-2 col-md-4 flex-centered"> <div class="order__product"> <div class="order__product__image__wrapper"> <img class="order__product__image" src="http://ledtop-shop.ru/files/catalog/014383.jpg"> </div> <div class="order__product__length">15м</div> <div class="order__product__price">840 ₽</div> </div> </div> <div class="col-md-1 flex-centered"> <div class="order__product__plus"></div> </div> <div class="col-md-4 flex-centered"> <div class="order__product"> <div class="order__product__image__wrapper"> <img class="order__product__image" src="http://ledtop-shop.ru/files/catalog/019122.jpg"> </div> <div class="order__product__price">452 ₽</div> </div> </div> <div class="col-md-1 flex-centered"> <div class="order__product__plus"></div> </div> <div class="col-md-4 flex-centered"> <div class="order__product"> <div class="order__product__image__wrapper"> <img class="order__product__image" src="http://ledtop-shop.ru/files/catalog/012985.jpg"> </div> <div class="order__product__price">457 ₽</div> </div> </div> <div class="col-md-1 flex-centered"> <div class="order__product__equal"></div> </div> <div class="col-md-5"> <div class="order__products__total__price"> 12,489 ₽ </div> </div> </div> </div> </div>',"","class=\"oScreen zIndex-100 {showAnim : $Config.get('offers', 'manager')}\" data-open=\"{$Config.get('offers', 'manager')}\" data-color=\"blue\"",function(t){this.hide=function(){$Config.select("offers","manager").set(!1)}}),riot.tag2("screen-podbor",'<div class="wrapper"> <section-control></section-control> <section-packages-select></section-packages-select> <div class="content"> <div class="rows"> <div class="row"> <product-item name="ledribbon" item="{$Cursor.ledribbon}"></product-item> <product-item name="power" item="{$Cursor.power}"></product-item> <product-item name="control" item="{$Cursor.control}"></product-item> <div class="search__empty"> <div class="search__empty__text">К сожалению компоненты не найдены, измените условия поиска, длину или тип освещения.</div> </div> </div> </div> </div> <section-menu></section-menu> </div> <section-packages></section-packages> <screens-order></screens-order> <div class="section__overlay"></div>',"",'class="section" data-active="false" data-visible="false" data-animate="true" is-animate="false"',function(t){var e=this,o=$$(this.root);e.active=!1,e.tooltipScreen=null,e.on("before-mount",function(){$Menu=e.tags["section-menu"],$Control=e.tags["section-control"],$Control.wrapper=$Control.tags["control-wrapper"],$Control.light=$Control.wrapper.tags["control-light"],$Control.humidity=$Control.wrapper.tags["control-humidity"],$Control.color=$Control.wrapper.tags["control-color"],$Control.length=$Control.wrapper.tags["control-length"],$Control.refresh={humidity:function(){$Options.set("hum",$Cursor.ledribbon.get("product","hum"))},color:function(){$Options.set("color",$Cursor.ledribbon.get("product","color"))}},$Product={ledribbon:e.ledribbon._tag,power:e.power._tag,control:e.control._tag},$Cursor={ledribbon:$store.data.getProductCursor("ledribbon"),power:$store.data.getProductCursor("power"),control:$store.data.getProductCursor("control")},e.sections={packages:e.tags["section-packages"],packagesSelect:e.tags["section-packages-select"],order:e.tags["screens-order"],totalPrice:$Control.tags["total-price"]}}),e.show=function(t){$Screens.self.trigger("steps-hidden"),e.root.setAttribute("data-visible",!0),e.render(!0),$afterlag.m(function(){t&&t.animate?(e.root.setAttribute("is-animate",!0),_.onEndTransition($Menu.root,function(){e.onReady(t.section)})):e.onReady(t.section)})},e.onReady=function(t){e.root.setAttribute("data-animate",!1),e.root.setAttribute("data-active",!0),$State.get("tutorial")&&e.open.tutorial(),$Router.params.set($Options.get()),e.trigger("ready"),t&&("order"==t?e.open.order():"sendmail"==t?e.open.sendmail():"payment"==t?e.open.payment():"gallery"==t&&e.open.gallery()),e.active=!0},e.render=function(t){var o=$State.get("group"),i={active:!0,light:$Options.get("light"),length:$Options.get("length")},s=!!$Options.get("package")&&$store.packages.getItemById($Options.get("package"),i);s?($State.select("group").set(s.group),e.set.productsAll(i),e.set.products({ledribbon:s.ledribbon,power:s.power,control:s.control})):(e.set.productsAll(i),i.group=o,s=_.sortArray($store.packages.getItemsByParams(i),"pos")[0],s?($State.select("group").set(s.group),$Options.select("package").set(s._id),e.set.products(s)):(o="norm",$Options.select("package").set(),e.set.products({ledribbon:$Cursor.ledribbon.get("products",{group:o}),power:$Cursor.power.get("products",{group:o}),control:$Cursor.control.get("products",{group:o})}))),$store.humidity.setStore(),$Control.refresh.humidity(),$store.color.setStore(),$Control.refresh.color(),e.set.totalPrice(),t&&e.update()},e.open={tutorial:function(){$Tutorial.show(o,"podbor"),$State.set("tutorial",!1)},order:function(){$Menu.items.open.order()},payment:function(){$Menu.items.open.payment()},sendmail:function(){$Menu.items.open.sendmail()},gallery:function(){$Menu.items.open.gallery()}},e.set={params:function(){$Router.params.set($Options.get())},products:function(t){t&&$store.data.setProducts({ledribbon:t.ledribbon&&t.ledribbon.article?t.ledribbon.article:t.ledribbon,power:t.power&&t.power.article?t.power.article:t.power,control:t.control&&t.control.article?t.control.article:t.control})},productsAll:function(t){t&&$store.data.setProductsAll({ledribbon:_.sortArray($store.products.getItemsByParamsWithoutGroup(_.extend(t,{type:"ledribbon"})),"pos"),power:_.sortArray($store.products.getItemsByParamsWithoutGroup(_.extend(t,{type:"power"})),"pos"),control:_.sortArray($store.products.getItemsByParamsWithoutGroup(_.extend(t,{type:"control"})),"pos")})},totalPrice:function(){var t=0,o={ledribbon:$Cursor.ledribbon.get("product","price"),power:$Cursor.power.get("product","price"),control:$Options.get("controlled")?$Cursor.control.get("product","price"):null};t+=o.ledribbon?o.ledribbon*$Options.get("length"):0,t+=o.power?o.power:0,t+=o.control?o.control:0,e.sections.totalPrice.refresh(t),$Menu.totalPrice.refresh(t)}};var i=_.debounce(e.set.params,300),s=_.debounce(e.render,300);$Options.on("write",function(t){var o=t.data.path[0];"controlled"==o?$Product.control.update():"light"==o||"length"==o?s(!0):"hum"==o?$Control.humidity.update():"color"==o&&$Control.color.update(),e.active&&(i(),"length"==o||app.device.isPhone||e.set.totalPrice())}),_.bbUpdate($store.data,function(t,o,i){e.active&&(o&&("ledribbon"==o.type?$Product.ledribbon.update():"power"==o.type?$Product.power.update():"control"==o.type&&$Product.control.update()),e.set.totalPrice())}),_.bbUpdate($State,function(t,o,i){t&&("showProducts"!=t||!o||$State.get("tooltipScreen")||$Tutorial.active||$afterlag.run(function(){$State.get("tooltipScreen")||("ledribbon"==o?e.tooltipScreen=$Product.control.tags["product-tooltip-screen"]:"power"==o?e.tooltipScreen=$Product.ledribbon.tags["product-tooltip-screen"]:"control"==o&&(e.tooltipScreen=$Product.ledribbon.tags["product-tooltip-screen"]),e.tooltipScreen.show())},{delay:500,timeout:1e3,iterations:5}))})});