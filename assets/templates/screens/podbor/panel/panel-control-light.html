<panel-control-light class="control" data-active={ active }>

    <div onClick={ toggle } onUpdate="none" class="control__light__icon" data-light="{ $State.get('light') }"></div>
    <div onClick={ toggle } onUpdate="none" class="control__icon" data-icon="light"></div>
    <div class="control__container flex-row-left-center">
        <div class="control__container__title">тип освещения</div>
        <div onClick={ select } onUpdate="none" each={ item in items } class="control__light__item" data-balloon="{ item.tooltip }" data-balloon-pos="up" data-light="{ item.title }"></div>
    </div>

<script>

    var $ = this;

    $.active = false;

    $.items = [
        {
            title: 'mono',
            tooltip: 'Монохромная'
        },
        {
            title: 'rgb',
            tooltip: 'Мультицветная'
        },
        {
            title: 'lightrun',
            tooltip: 'Бегущий огонь'
        }
    ];

    $.toggle = function(){
        $.update({
            active: !$.active
        })
    };

    $.select = function(){
        $State.set('light', this.item.title);
        $.hide();
    };

    $.hide = function(){
        $.update({
            active: false
        })
    };

</script>

</panel-control-light>
