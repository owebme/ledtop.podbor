<control-color class="control" data-active={ active }>

    <div onClick={ toggle } onUpdate="none" class="control__icon" data-color={ $State.get('color') }>
        <control-color-item content={ $State.get('color') }>{ item }</control-color-item>
    </div>
    <div class="control__container flex-row-left-center">
        <div class="control__container__title">цвет свечения</div>
        <div onClick={ select } onUpdate="none" each={ item in items } class="control__color" data-active={ item == $State.get('color') } data-color={ item }>
            <control-color-item content={ item }>{ item }</control-color-item>
        </div>
    </div>

<script>

    var $ = this;

    $.active = false;

    $.items = ['blue', 'cool_white', 'day_white', 'warm_white', 'yellow', 'green', 'ir850', 'orange', 'pink', 'red', 'violet'];

    $.toggle = function(){
        $.update({
            active: !$.active
        })
    };

    $.select = function(){
        $State.set('color', this.item);
        $.hide();
    };

    $.hide = function(){
        $.update({
            active: false
        })
    };

</script>

</control-color>
